!function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="_content/Syncfusion.Blazor/scripts/",r(r.s="./bundles/sf-pivotview.js")}({"./bundles/sf-pivotview.js":function(e,t,r){"use strict";r.r(t);r("./modules/sf-pivotview.js")},"./modules/sf-pivotview.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.PivotView=function(){"use strict";var e="e-icons",t="e-group-row",r="e-format",o="e-pivot-formula",i="e-remove-report",l="e-pivot-toolbar",n="e-list-icon",s="e-hover",a="e-popup",c="e-popup-open",d="e-rowsheader",u="e-columnsheader",p="e-cellselectionbackground",h="e-selectionbackground",f="e-table",b="e-dlg-closeicon-btn.e-icon-btn",y=function(){function e(e){this.parent=e,this.parent.pivotButtonModule=this}return e.prototype.createPivotButtonDrop=function(){for(var e=0,t=[].slice.call(this.parent.parentElement.querySelectorAll(".e-axis-content"));e<t.length;e++){var r=t[e];new sf.base.Droppable(r,{}),this.unWireEvents(r),this.wireEvents(r)}},e.prototype.setPivotButtonDrag=function(){for(var e=0,t=[].slice.call(this.parent.parentElement.querySelectorAll("."+(this.parent instanceof _?"e-grouping-bar":"e-pivotfieldlist")+"-button"));e<t.length;e++){var r=t[e],o=!!sf.base.closest(r,".e-group-all-fields"),i=r.querySelector(".e-pivot-button");this.parent.pivotButtonModule.createDraggable(o,this.parent instanceof _?i.querySelector(".e-content"):i.firstElementChild,o?this.parent.commonActionModule.getFieldInfo(i.getAttribute("data-uid")).fieldItem:JSON.parse(i.getAttribute("data-fieldInfo")))}},e.prototype.createDraggable=function(e,t,r){var o=this;this.draggable=new sf.base.Draggable(t,{clone:!0,enableTailMode:!0,enableAutoScroll:!1,helper:this.createDragClone.bind(this,r,e),dragStart:this.onDragStart.bind(this,e),drag:function(e){o.draggable.setProperties({cursorAt:{top:!sf.base.isNullOrUndefined(e.event.targetTouches)||sf.base.Browser.isDevice?60:-20}})},dragStop:this.onDragStop.bind(this,e),abort:this.parent instanceof _?this.parent.groupingBarSettings.allowDragAndDrop&&r.allowDragAndDrop?"":".e-pivot-button":r.allowDragAndDrop?"":".e-pivot-button"}),e||(this.unWireEvents(this.parent instanceof _?sf.base.closest(t,".e-grouping-bar-button"):t),this.wireEvents(this.parent instanceof _?sf.base.closest(t,".e-grouping-bar-button"):t))},e.prototype.createDragClone=function(e,t,r){var o=t?null:sf.base.closest(r.element,".e-pivot-button");e=o?JSON.parse(o.getAttribute("data-fieldInfo")):e;var i=sf.base.createElement("div",{id:this.parent.element.id+"_DragClone",className:"e-button-drag-clone"}),l=sf.base.createElement("span",{className:"e-text-content",innerHTML:e?e.caption?e.caption:e.name:""});return i.appendChild(l),document.body.appendChild(i),i},e.prototype.onDragStart=function(e,t){var r=this,o=sf.base.closest(t.element,"."+(e?this.parent instanceof _?"e-pivot-button":"e-list-item":"e-pivot-button"));this.parent.dotNetRef.invokeMethodAsync("TriggerNodeDraggingEvent",o.getAttribute("data-uid")).then((function(i){if(i.cancel)r.parent.isDragging=!1,r.draggable.intDestroy(t.event),sf.base.detach(document.getElementById(r.parent.element.id+"_DragClone"));else{r.parent.isDragging=!0;var l=r.parent.fieldList[o.getAttribute("data-uid")],n=["e-rows","e-columns","e-filters"];if(sf.base.addClass([e?r.parent instanceof _?o:o.querySelector(".e-list-text"):o],"e-list-selected"),l&&"CalculatedField"===l.aggregateType)for(var s=0,a=n;s<a.length;s++){var c=a[s];sf.base.addClass([r.parent.parentElement.querySelector("."+c)],"e-drag-restrict")}if(document.getElementById(r.parent.element.id+"_DragClone")){var d=sf.popups.getZindexPartial(o);document.getElementById(r.parent.element.id+"_DragClone").style.zIndex=d?d.toString():"100000"}t.bindEvents(t.dragElement)}}))},e.prototype.onDragStop=function(e,t){this.parent.isDragging=!1;var r=!1;t.target&&t.element&&sf.base.closest(t.element,".e-group-all-fields")&&!sf.base.closest(t.target,".e-droppable")&&(r=!0);var o=sf.base.closest(t.element,"."+(e?this.parent instanceof _?"e-pivot-button":"e-list-item":"e-pivot-button"));this.parent.parentElement.querySelector(".e-list-selected")&&sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-list-selected")),"e-list-selected");for(var i=0,l=["e-rows","e-columns","e-filters"];i<l.length;i++){var n=l[i];sf.base.removeClass([this.parent.parentElement.querySelector("."+n)],"e-drag-restrict")}sf.base.removeClass([e?this.parent instanceof _?o:o.querySelector(".e-list-text"):o],"e-list-selected"),document.getElementById(this.parent.element.id+"_DragClone")&&sf.base.remove(t.helper?t.helper:document.getElementById(this.parent.element.id+"_DragClone")),document.body.style.cursor="auto",!this.isNodeDropped(e,t,o)||!e&&r||this.nodeStateModified(e,t,r,o.getAttribute("data-uid"))},e.prototype.nodeStateModified=function(e,t,r,o){var i=sf.base.closest(t.target,".e-droppable")?JSON.stringify(sf.base.closest(t.target,".e-droppable").className.split(" ")):void 0,l=e||!t.element.parentElement?void 0:JSON.stringify({isvalue:t.element.parentElement.getAttribute("isvalue")});this.parent.dotNetRef.invokeMethodAsync("OnFieldDropped",window.sfBlazor.getDomObject("target",t.target).xPath,i,l,!(!e&&!r),o)},e.prototype.isNodeDropped=function(e,t,r){var o=!0,i=r.getAttribute("data-uid");if(this.parent.fieldList[i]&&this.parent.fieldList[i].isSelected||!e){var l=e?this.getButton(i):r,n=sf.base.closest(l,".e-droppable"),s=sf.base.closest(t.target,".e-droppable");if(l&&n&&n===s){for(var a=[].slice.call(n.querySelectorAll(".e-pivot-button")),c=sf.base.closest(t.target,".e-pvt-btn-div"),d=void 0,u=-1,p=0;p<a.length;p++)if(a[p].id===l.id&&(d=p),c){var h=c.querySelector(".e-pivot-button");a[p].id===h.id&&(u=p)}(d===u||d===a.length-1&&-1===u)&&(sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-drop-indicator")),"e-drop-hover"),o=!1)}}return o},e.prototype.getButton=function(e){for(var t=0,r=[].slice.call(this.parent.parentElement.querySelectorAll(".e-pivot-button"));t<r.length;t++){var o=r[t];if(o.id===e)return o}},e.prototype.getButtonPosition=function(e,t){var r=sf.base.closest(e,".e-pvt-btn-div");if(r){r=r.querySelector(".e-pivot-button");for(var o=this.parent instanceof _?this.parent.parentElement.querySelector(".e-chart-grouping-bar"):void 0,i=[].slice.call((o&&"Chart"===this.parent.currentView?o:this.parent.parentElement).querySelector(".e-"+t).querySelectorAll(".e-pivot-button")),l=0,n=i.length;l<n;l++)if(i[l].id===r.id)return l}return-1},e.prototype.wireEvents=function(e){sf.base.EventHandler.add(e,"mouseover",this.parent.commonActionModule.updateDropIndicator,this),sf.base.EventHandler.add(e,"mouseleave",this.parent.commonActionModule.updateDropIndicator,this)},e.prototype.unWireEvents=function(e){sf.base.EventHandler.remove(e,"mouseover",this.parent.commonActionModule.updateDropIndicator),sf.base.EventHandler.remove(e,"mouseleave",this.parent.commonActionModule.updateDropIndicator)},e.prototype.destroy=function(){for(var e=0,t=[].slice.call(this.parent.parentElement.querySelectorAll(".e-axis-content"));e<t.length;e++){var r=t[e];this.unWireEvents(r)}this.draggable&&this.draggable.isDestroyed&&this.draggable.destroy()},e}(),g=function(){function e(e){this.parent=e,this.parent.groupingBarModule=this,this.parent.pivotButtonModule=new y(this.parent)}return e.prototype.updatePivotButtons=function(){this.createPivotButtonDrop(),this.parent.pivotButtonModule.setPivotButtonDrag()},e.prototype.createPivotButtonDrop=function(){for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll(".e-axis-container"));e<t.length;e++){var r=t[e].firstElementChild;this.parent.groupingBarSettings.allowDragAndDrop&&new sf.base.Droppable(r,{}),this.unWireEvent(r),this.wireEvent(r)}},e.prototype.refreshUI=function(){var e=this.parent.element.querySelector(".e-pivot-grouping-bar");if(e){e.style.minWidth="400px";var r=e.querySelector(".e-group-rows"),o=e.querySelector(".e-group-values"),i=e.querySelector(".e-group-columns"),l=e.querySelector(".e-group-filters"),n=e.querySelector(".e-left-axis-fields"),s=e.querySelector(".e-right-axis-fields");e.style.width=sf.base.select("#"+this.parent.element.id+"_grid",this.parent.element).offsetWidth+"px";var a=this.parent.element.querySelector(".e-frozenheader").querySelector("colgroup").children[0],c=e.offsetWidth-parseInt(a.style.width,10)+"px";if(n.style.minWidth=a.style.width,o.style.width=a.style.width,s.style.width=c,sf.base.select("#"+this.parent.element.id+"_grid",this.parent.element)){var d=this.parent.element.querySelector(".e-frozenheader").querySelector(".e-columnheader");d.querySelector(".e-headercell").classList.add(t),d.style.height=d.querySelector(".e-rhandler").style.height="auto",sf.base.select("#"+this.parent.element.id+"_grid",this.parent.element).querySelector(".e-group-rows")&&d.querySelector(".e-axis-row")?r?(r.style.height=this.parent.element.querySelector(".e-headercontent").offsetHeight+"px",sf.base.remove(d.querySelector(".e-axis-row")),d.querySelector("."+t).appendChild(e.querySelector(".e-axis-row"))):(r=sf.base.select("#"+this.parent.element.id+"_grid",this.parent.element).querySelector(".e-group-rows")).style.height="auto":(r.style.height=this.parent.element.querySelector(".e-headercontent").offsetHeight+"px",d.querySelector("."+t).appendChild(e.querySelector(".e-axis-row"))),d.querySelector("."+t).querySelector(".e-headercelldiv").style.display="none",d.querySelector("."+t).querySelector(".e-sortfilterdiv").style.display="none";for(var u=[].slice.call(this.parent.element.querySelector(".e-movableheader").querySelector("thead").querySelectorAll("tr")).filter((function(e){return e.childNodes.length>0})),p=0,h=u;p<h.length;p++){var f=h[p];sf.base.setStyleAttribute(f,{height:"auto"})}var b=this.parent.element.querySelector(".e-headercontent").offsetHeight;r.style.height=b+"px",i.style.height=l.style.height="auto";var y=o.offsetHeight/2;y>i.offsetHeight&&(sf.base.setStyleAttribute(l,{height:sf.base.formatUnit(y)}),sf.base.setStyleAttribute(i,{height:sf.base.formatUnit(y+2)})),this.parent.element.querySelector(".e-frozenheader").querySelector(".e-rhandler")&&(d.style.height=this.parent.element.querySelector(".e-frozenheader").querySelector(".e-rhandler").style.height=b+"px");for(var g=b/u.length,m=0,v=u;m<v.length;m++){f=v[m];sf.base.setStyleAttribute(f,{height:g+"px"});for(var S=0,q=[].slice.call(f.querySelectorAll(".e-rhandler"));S<q.length;S++){var w=q[S];sf.base.setStyleAttribute(w,{height:sf.base.closest(w,"th").offsetHeight+"px"})}}}}},e.prototype.wireEvent=function(e){sf.base.EventHandler.add(e,"mouseover",this.dropIndicatorUpdate,this),sf.base.EventHandler.add(e,"mouseleave",this.dropIndicatorUpdate,this)},e.prototype.unWireEvent=function(e){sf.base.EventHandler.remove(e,"mouseover",this.dropIndicatorUpdate),sf.base.EventHandler.remove(e,"mouseleave",this.dropIndicatorUpdate)},e.prototype.dropIndicatorUpdate=function(e){(this.parent.isDragging&&e.target.classList.contains("e-droppable")&&"mouseover"===e.type||"mouseleave"===e.type)&&(sf.base.removeClass([].slice.call(this.parent.element.querySelectorAll(".e-drop-indicator")),"e-drop-hover"),sf.base.removeClass([].slice.call(this.parent.element.querySelectorAll(".e-drop-indicator-last")),"e-drop-hover"))},e.prototype.destroy=function(){for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll(".e-axis-container"));e<t.length;e++){var r=t[e];this.unWireEvent(r.firstElementChild)}},e}(),m=function(){function t(e){this.parent=e,this.parent.calculatedFieldModule=this}return t.prototype.getNodeLocation=function(e,t){var r=e.querySelector('li[data-uid="'+CSS.escape(JSON.parse(t))+'"]').getBoundingClientRect();return JSON.stringify([r.top+(window.scrollY||document.documentElement.scrollTop),r.left])},t.prototype.setSelectionRange=function(e){e&&sf.base.select("#"+this.parent.element.id+"droppable").setSelectionRange(e,e),sf.base.select("#"+this.parent.element.id+"droppable").focus()},t.prototype.getIconInfo=function(e,t){var o=document.elementFromPoint(t,e);if(o){if(o.classList.contains(r))return JSON.stringify(r);if(o.classList.contains("e-edit"))return JSON.stringify("e-edit");if(o.classList.contains(i))return JSON.stringify(i);if(o.classList.contains("e-edited"))return JSON.stringify("e-edited")}},t.prototype.emptyFieldName=function(e){sf.base.addClass([document.getElementById(e+"ddlelement")],["e-empty-field","e-pivot-calc-input"]),document.getElementById(e+"ddlelement").focus()},t.prototype.editCalculatedFieldInfo=function(e,t,r,o){var i=sf.base.closest(document.elementFromPoint(r,t),"li");e?("pivot"===this.parent.options.dataType&&(sf.base.addClass(sf.base.select("#"+this.parent.element.id+"calculateddialog").querySelectorAll(".e-edited"),"e-edit"),sf.base.removeClass(sf.base.select("#"+this.parent.element.id+"calculateddialog").querySelectorAll(".e-edited"),"e-edited"),sf.base.addClass([i.querySelector("."+n)],"e-edited"),sf.base.removeClass([i.querySelector("."+n)],"e-edit"),i.querySelector(".e-edited").setAttribute("title",o)),sf.base.select("#"+this.parent.element.id+"droppable").value=i.getAttribute("data-uid")):this.updatedCalculatedFieldInfo(i,o)},t.prototype.updatedCalculatedFieldInfo=function(e,t){"pivot"===this.parent.options.dataType&&(sf.base.addClass(sf.base.select("#"+this.parent.element.id+"calculateddialog").querySelectorAll(".e-edited"),"e-edit"),sf.base.removeClass(sf.base.select("#"+this.parent.element.id+"calculateddialog").querySelectorAll(".e-edited"),"e-edited"),e.querySelector(".e-edit").setAttribute("title",t)),sf.base.select("#"+this.parent.element.id+"droppable").value=""},t.prototype.updateNodeExpandIcons=function(t,r){for(var o=t.querySelector('li[data-uid="'+CSS.escape(r)+'"]'),l=[].slice.call(o.querySelectorAll("li")),s=0;s<l.length;s++){var a=l[s].querySelector(".e-text-content");if("CalculatedField"===l[s].getAttribute("data-type")&&a&&l[s].querySelector("."+n+".e-calc-member")&&!l[s].querySelector("."+i)){var c=sf.base.createElement("span",{className:i+" "+e+" "+n});a.classList.add("e-calcfieldmember"),a.appendChild(c)}(l[s].querySelector(".e-calc-dimension-icon,.e-calc-measure-icon,.e-measure-icon")||l[s].querySelector(".e-dimensionCDB-icon,.e-attributeCDB-icon,.e-hierarchyCDB-icon")||l[s].querySelector(".e-level-members,.e-namedSetCDB-icon"))&&this.createDraggable(l[s])}return this.olapExpand(o)},t.prototype.olapExpand=function(e){if(e&&e.querySelector("."+n)&&e.querySelector(".e-icon-expandable")&&e.querySelector("."+n).className.indexOf("e-folderCDB-icon")>-1){var t=e.querySelector("."+n);return sf.base.removeClass([t],"e-folderCDB-icon"),sf.base.addClass([t],"e-folderCDB-open-icon"),JSON.stringify(!1)}return e&&e.querySelector("."+n)&&e.querySelector(".e-icon-collapsible")&&e.querySelector("."+n).className.indexOf("e-folderCDB-open-icon")>-1?(e=e.querySelector("."+n),sf.base.removeClass([e],"e-folderCDB-open-icon"),sf.base.addClass([e],"e-folderCDB-icon"),JSON.stringify(!1)):JSON.stringify(!0)},t.prototype.updateEditOptions=function(t){var r=[].slice.call(sf.base.selectAll("#"+t+" .e-acrdn-item"));sf.base.addClass(sf.base.selectAll("#"+t),"e-pivot-accord");for(var o=0;o<r.length;o++)if(r[o].querySelector('[data-type="CalculatedField"]')){var l=r[o].querySelector(".e-acrdn-header .e-toggle-icon");sf.base.removeClass([l],"e-toggle-icon"),sf.base.addClass([l],"e-acrdn-header-icon");var s=l.querySelector(".e-tgl-collapse-icon");sf.base.removeClass([s],"e-tgl-collapse-icon"),sf.base.addClass([s],[n,"e-edit"]),l.appendChild(sf.base.createElement("span",{className:i+" "+e+" "+n}))}},t.prototype.updateAccordionLabel=function(e){var t=document.elementFromPoint(JSON.parse(e).ClientX,JSON.parse(e).ClientY),r=t.parentElement.querySelector(".e-label").innerText,o=sf.base.closest(t,".e-acrdn-item").querySelector("[data-field").getAttribute("data-caption");sf.base.closest(t,".e-acrdn-item").querySelector(".e-label").innerText=o+" ("+r+")",sf.base.closest(t,".e-acrdn-item").querySelector("[data-type").setAttribute("data-type",t.getAttribute("data-value"))},t.prototype.accordionClick=function(e,t,r){var o=document.elementFromPoint(JSON.parse(e),JSON.parse(t));if(sf.base.closest(o,".e-acrdn-header-icon")){var l=sf.base.closest(o,".e-acrdn-header").querySelector(".e-pivot-calc-check input");if(l){var s=void 0,a=sf.base.closest(o,".e-acrdn-header-icon");return a.querySelector(".e-edit")&&o.classList.contains("e-edit")?(sf.base.addClass([a.querySelector("."+n)],"e-edited"),sf.base.removeClass([a.querySelector("."+n)],"e-edit"),s="e-edit"):a.querySelector(".e-edited")&&o.classList.contains("e-edited")?(sf.base.addClass([a.querySelector("."+n)],"e-edit"),sf.base.removeClass([a.querySelector("."+n)],"e-edited"),s="e-edited"):a.querySelector("."+i)&&o.classList.contains(i)&&(s=i),JSON.stringify([l.getAttribute("data-field"),s,l.getAttribute("id").split(r+"_")[1]])}}return JSON.stringify([])},t.prototype.getAccordionValue=function(){for(var e="",t=[].slice.call(document.querySelectorAll(".e-accordion .e-check")),r=0;r<t.length;r++){var o=t[r].parentElement.querySelector("[data-field]").getAttribute("data-field"),i=t[r].parentElement.querySelector("[data-type]").getAttribute("data-type");-1===i.indexOf("CalculatedField")?e=e+'"'+i+"("+o+')"':e+=t[r].parentElement.querySelector("[data-formula]").getAttribute("data-formula")}return e},t.prototype.createFormulaDroppable=function(t,l,s,a,c,d,u){var p=document.getElementById(this.parent.element.id+u);if(p.querySelector("."+o)){new sf.base.Droppable(p.querySelector("."+o),{});for(var h=[].slice.call(p.querySelectorAll(".e-pivot-treeview ul li")),f=0;f<h.length;f++){var b=h[f].getAttribute("data-field");if("olap"===this.parent.options.dataType){h[f].querySelector(".e-measure-icon")&&(h[f].querySelector("."+n).style.display="none");var y=h[f].querySelector(".e-text-content");"CalculatedField"===h[f].getAttribute("data-type")&&y&&h[f].querySelector("."+n+".e-calc-member")&&(y.classList.add("e-calcfieldmember"),y.appendChild(sf.base.createElement("span",{className:i+" "+e+" "+n}))),(h[f].querySelector(".e-calc-dimension-icon,.e-calc-measure-icon,.e-measure-icon")||h[f].querySelector(".e-dimensionCDB-icon,.e-attributeCDB-icon,.e-hierarchyCDB-icon")||h[f].querySelector(".e-level-members,.e-namedSetCDB-icon"))&&this.createDraggable(h[f])}else if("pivot"===this.parent.options.dataType&&h[f].querySelector(".e-text-content span")){var g=h[f].getAttribute("data-type"),m=sf.base.createElement("span",{attrs:{tabindex:"-1","aria-disabled":"false",title:l},className:e+" e-drag"}),v=sf.base.createElement("div",{className:" e-iconspace"});sf.base.prepend([m],h[f].querySelector(".e-text-content")),sf.base.append([v,h[f].querySelector("."+r)],h[f].querySelector(".e-text-content")),"CalculatedField"===g&&(h[f].querySelector("."+r).setAttribute("title",s),sf.base.addClass([h[f].querySelector("."+r)],i),c&&d===b&&(sf.base.select("#"+this.parent.element.id+"droppable",p).value=h[f].getAttribute("data-uid")),sf.base.addClass([h[f].querySelector(".e-iconspace")],[c&&d===b?"e-edited":"e-edit",e,n]),h[f].querySelector(".e-edit,.e-edited").setAttribute("title",c&&d===b?a:t),h[f].querySelector(".e-edit,.e-edited").setAttribute("aria-disabled","false"),h[f].querySelector(".e-edit,.e-edited").setAttribute("tabindex","-1"),sf.base.removeClass([h[f].querySelector("."+r)],r),sf.base.removeClass([h[f].querySelector(".e-iconspace")],"e-iconspace")),this.createDraggable(m)}}}},t.prototype.createDraggable=function(e){new sf.base.Draggable(e,{dragTarget:".e-list-item",clone:!0,enableTailMode:!0,enableAutoScroll:!1,helper:this.calculatedDragClone.bind(this),dragStart:this.onCalcDragStart.bind(this),drag:this.onDragging.bind(this),dragStop:this.onCalcDragStop.bind(this)})},t.prototype.onDragging=function(t){var r=sf.base.select("#"+this.parent.element.id+"_DragClone ."+e);t.target&&t.target.classList.contains(o)?(sf.base.removeClass([r],"e-drag-restrict"),sf.base.addClass([t.target],"e-copy-drop")):(sf.base.addClass([r],"e-drag-restrict"),sf.base.removeClass([t.target],"e-copy-drop"),sf.base.addClass([r],"e-icon-expandable"),sf.base.removeClass([r],n))},t.prototype.onCalcDragStop=function(e){var t=document.getElementById(this.parent.element.id+"droppable"),r=sf.base.closest(e.element,".e-list-item");sf.base.removeClass([t],"e-copy-drop"),sf.base.removeClass([r.querySelector(".e-list-text")],"e-list-selected");var o=t.selectionStart;e.target.id===this.parent.element.id+"droppable"&&this.parent.dotNetRef.invokeMethodAsync("UpdateCalcDroppable",r.getAttribute("data-uid"),o,e.target.id),document.getElementById(this.parent.element.id+"_DragClone")&&sf.base.remove(e.helper),document.body.style.cursor="auto",this.parent.isDragging=!1},t.prototype.onCalcDragStart=function(e){var t=sf.base.closest(e.element,".e-list-item"),r=document.getElementById(this.parent.element.id+"_DragClone");if(r&&t&&("pivot"===this.parent.options.dataType&&e.target&&e.target.classList.contains("e-drag")||"olap"===this.parent.options.dataType&&(t.querySelector(".e-calc-dimension-icon,.e-calc-measure-icon,.e-measure-icon")||t.querySelector(".e-dimensionCDB-icon,.e-attributeCDB-icon,.e-hierarchyCDB-icon")||t.querySelector(".e-level-members,.e-namedSetCDB-icon")))){sf.base.addClass([t.querySelector(".e-list-text")],"e-list-selected");var o=sf.popups.getZindexPartial(t);r.style.zIndex=o?o.toString():document.querySelector(".e-pivot-calc-dialog-div.e-olap-calc-dialog-div").style.zIndex+1,r.style.display="inline",this.parent.isDragging=!0}else this.parent.isDragging=!1;e.bindEvents(e.dragElement)},t.prototype.calculatedDragClone=function(t){var r=sf.base.createElement("div",{id:this.parent.element.id+"_DragClone",className:"e-drag-item e-treeview e-pivot-calc"}),o=sf.base.createElement("div",{className:"e-text-content e-calcfieldmember"});return o.appendChild(sf.base.createElement("div",{className:e})),o.appendChild(sf.base.createElement("span",{className:"e-list-text",innerHTML:sf.base.closest(t.element,"li").getAttribute("data-caption")})),r.appendChild(o),document.body.appendChild(r),r},t}(),v=function(){function e(e){this.parent=e,this.parent.toolbarModule=this}return e.prototype.renderToolbar=function(){this.parent.element.querySelector("."+l)&&this.updateItemElements(this.parent.element.querySelector("."+l))},e.prototype.updateItemElements=function(e){for(var t=0,r=[].slice.call(e.querySelectorAll(".e-toolbar-item"));t<r.length;t++){var o=r[t];o.querySelector("button")?o.classList.contains("e-overlay")||o.querySelector("button").setAttribute("tabindex","0"):o.querySelector(".e-menu.e-menu-parent")&&(o.querySelector(".e-menu.e-menu-parent").setAttribute("tabindex","-1"),!o.classList.contains("e-overlay")&&o.querySelector(".e-menu-item.e-menu-caret-icon")&&o.querySelector(".e-menu-item.e-menu-caret-icon").setAttribute("tabindex","0"))}},e.prototype.focusToolBar=function(){sf.base.removeClass(document.querySelector("."+l).querySelectorAll(".e-menu-item.e-focused"),"e-focused"),sf.base.removeClass(document.querySelector("."+l).querySelectorAll(".e-menu-item.e-selected"),"e-selected"),document.querySelector(".e-toolbar-items")&&sf.base.addClass([document.querySelector(".e-toolbar-items")],"e-focused")},e.prototype.selectInputRange=function(e){if(e.querySelector(".e-pivotview-report-input")){var t=e.querySelector(".e-pivotview-report-input input");t.setSelectionRange(t.value.length,t.value.length)}},e.prototype.copyMdxQuery=function(e){if(e.querySelector(".e-mdx-query-content")){var t=e.querySelector(".e-mdx-query-content");try{t.select(),document.execCommand("copy")}catch(e){window.alert("Oops, unable to copy")}}else;},e}(),S=function(){function e(e){this.keyConfigs={shiftF:"shift+F",shiftS:"shift+S",shiftE:"shift+E",delete:"delete",enter:"enter",escape:"escape",upArrow:"upArrow",downArrow:"downArrow"},this.parent=e,this.parent.parentElement.tabIndex=-1===this.parent.parentElement.tabIndex?0:this.parent.parentElement.tabIndex,this.keyboardModule=new sf.base.KeyboardEvents(this.parent.parentElement,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}return e.prototype.keyActionHandler=function(e){switch(e.action){case"shiftF":this.processFilter(e);break;case"shiftS":this.processSort(e);break;case"shiftE":this.processEdit(e);break;case"delete":this.processDelete(e);break;case"enter":this.processEnter(e);break;case"escape":this.processClose(e);break;case"upArrow":case"downArrow":this.processFilterNodeSelection(e)}},e.prototype.getButtonElement=function(e){for(var t=[].slice.call(this.parent.parentElement.querySelectorAll(".e-pivot-button")),r=0,o=t.length;r<o;r++)if(t[r].getAttribute("data-uid")===e.getAttribute("data-uid"))return t[r];return e},e.prototype.processEnter=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-pivot-button"))return t.querySelector(".e-dropdown-icon")&&sf.base.closest(t,".e-values")?t.querySelector(".e-dropdown-icon").click():t.querySelector(".e-edit")?t.querySelector(".e-edit").click():!t.querySelector(".e-sort")||sf.base.closest(t,".e-values")||sf.base.closest(t,".e-axis-filter")?t.querySelector(".e-btn-filter")&&!sf.base.closest(t,".e-values")&&t.querySelector(".e-btn-filter").click():(t.querySelector(".e-sort").click(),this.getButtonElement(t).focus()),e.stopPropagation(),void e.preventDefault()},e.prototype.processSort=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-pivot-button")&&t.querySelector(".e-sort")&&!sf.base.closest(t,".e-values")&&!sf.base.closest(t,".e-axis-filter"))return t.querySelector(".e-sort").click(),this.getButtonElement(t).focus(),e.stopPropagation(),void e.preventDefault()},e.prototype.processEdit=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-pivot-button")&&t.querySelector(".e-edit"))return t.querySelector(".e-edit").click(),e.stopPropagation(),void e.preventDefault()},e.prototype.processFilter=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-pivot-button")&&t.querySelector(".e-btn-filter")&&!sf.base.closest(t,".e-values"))return t.querySelector(".e-btn-filter").click(),e.stopPropagation(),void e.preventDefault()},e.prototype.processFilterNodeSelection=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-select-all")&&40===e.keyCode){if((o=sf.base.closest(t,".e-member-editor-outer-container").querySelector(".e-member-editor-container"))&&o.querySelector("li")){var r=o.querySelector("li");return o.querySelector("li#_active")&&(sf.base.removeClass([o.querySelector("li#_active")],[s,"e-node-focus"]),o.querySelector("li#_active").removeAttribute("id")),r.setAttribute("id","_active"),sf.base.addClass([r],[s,"e-node-focus"]),o.focus(),e.stopPropagation(),void e.preventDefault()}}else if(t&&sf.base.closest(t,".e-member-editor-container")&&38===e.keyCode){var o;if((o=sf.base.closest(t,".e-member-editor-container")).querySelector("li#_active."+s+".e-node-focus")&&o.querySelector("li")&&o.querySelector("li")===o.querySelector("li#_active."+s+".e-node-focus")){sf.base.removeClass(o.querySelectorAll("li.e-prev-active-node"),"e-prev-active-node");var i=sf.base.closest(t,".e-member-editor-outer-container").querySelector(".e-select-all");if(i&&i.querySelector("li"))return(r=i.querySelector("li")).setAttribute("id","_active"),sf.base.addClass([r],[s,"e-node-focus"]),i.focus(),e.stopPropagation(),void e.preventDefault()}}},e.prototype.processDelete=function(e){var t=e.target;if(t&&sf.base.closest(t,".e-pivot-button")&&t.querySelector(".e-remove"))return t.querySelector(".e-remove").click(),e.stopPropagation(),void e.preventDefault()},e.prototype.processClose=function(e){var t=e.target;if(t&&sf.base.closest(t,"."+a+"."+c)){var r=sf.base.closest(t,"."+a+"."+c).blazor__instance,o=this;if(r&&!r.closeOnEscape){var i=r.element.getAttribute("data-fieldName");r.dotNetRef.invokeMethodAsync("CloseDialog",{altKey:e.altKey,ctrlKey:e.ctrlKey,code:e.code,key:e.key,location:e.location,repeat:e.repeat,shiftKey:e.shiftKey,metaKey:e.metaKey,type:e.type}).then((function(){if(o.parent.parentElement)for(var t=0,r=[].slice.call(o.parent.parentElement.querySelectorAll(".e-pivot-button"));t<r.length;t++){var l=r[t];if(l.getAttribute("data-uid")===i){l.focus();break}}e.preventDefault()}))}else this.closeDialog(sf.base.closest(t,"."+a+"."+c),e)}},e.prototype.closeDialog=function(e,t){return e.querySelector("."+b)?(e.querySelector("."+b).click(),void t.preventDefault()):e.querySelector(".e-cancel-btn")?(e.querySelector(".e-cancel-btn").click(),void t.preventDefault()):void 0},e.prototype.destroy=function(){this.keyboardModule&&this.keyboardModule.destroy()},e}(),q=function(){function e(e){this.parent=e,this.parent.commonActionModule=this,this.keyboardModule=new S(e),this.getElementInfo()}return e.prototype.getElementInfo=function(){if(this.parent instanceof _){var e=this.parent.element.getBoundingClientRect();this.parent.dotNetRef.invokeMethodAsync("GetElementInfo",e.width,e.height)}},e.prototype.updateActiveNode=function(e,t){var r=e.querySelectorAll("li.e-node-focus");return sf.base.removeClass(e.querySelectorAll("li.e-prev-active-node"),"e-prev-active-node"),sf.base.addClass([e.querySelector('li[data-uid="'+t+'"]')],"e-prev-active-node"),r&&r.length>0&&e.querySelectorAll("li")[0]===r[0]},e.prototype.isFullRowElement=function(e,t){return JSON.stringify(document.elementFromPoint(t,e).classList.contains("e-fullrow"))},e.prototype.validateInputs=function(e){var t=e.value1,r=e.value2,o=e.condition,i=e.type;if(sf.base.isNullOrUndefined(t)||""===t||["Between","NotBetween"].indexOf(o)>-1&&(sf.base.isNullOrUndefined(r)||""===r)){var l=sf.base.select("#"+this.parent.element.id+"_"+i.toLowerCase()+(sf.base.isNullOrUndefined(t)||""===t?"_input_option_1":"_input_option_2"),this.parent.parentElement);sf.base.addClass([l],"e-empty-field"),l.focus()}},e.prototype.updateDropIndicator=function(e){this.parent.isDragging&&e.target.classList.contains("e-axis-content")&&"mouseover"===e.type&&(sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-drop-indicator")),"e-drop-hover"),sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-drop-indicator-last")),"e-drop-hover"),(t=[].slice.call(e.target.querySelectorAll(".e-pvt-btn-div"))).length>0&&sf.base.addClass([t[t.length-1].querySelector(".e-drop-indicator-last")],"e-drop-hover"));if(this.parent.isDragging&&sf.base.closest(e.target,".e-pvt-btn-div")&&"mouseover"===e.type&&(sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-drop-indicator-last")),"e-drop-hover"),sf.base.removeClass([].slice.call(this.parent.parentElement.querySelectorAll(".e-drop-indicator")),"e-drop-hover"),sf.base.closest(e.target,".e-droppable"))){var t=sf.base.closest(e.target,".e-pvt-btn-div");sf.base.addClass([t.querySelector(".e-drop-indicator")],"e-drop-hover")}},e.prototype.getFieldInfo=function(e,t){for(var r=[this.parent.dataSourceSettings.rows,this.parent.dataSourceSettings.columns,this.parent.dataSourceSettings.values,this.parent.dataSourceSettings.filters],o=0,i=r.length;o<i;o++)for(var l=0,n=r[o]?r[o].length:0;l<n&&!t;l++)if(r[o][l]&&r[o][l].name===e)return{fieldName:e,fieldItem:r[o][l],axis:0===o?"rows":1===o?"columns":2===o?"values":"filters",position:l};var s=this.parent.fieldList[e];return{fieldName:e,fieldItem:s||t?{name:e,caption:s?s.caption:e,baseField:s?s.baseField:void 0,baseItem:s?s.baseItem:void 0,isCalculatedField:!!s&&s.isCalculatedField,isNamedSet:!!s&&s.isNamedSets,showNoDataItems:!!s&&s.showNoDataItems,showSubTotals:!!s&&s.showSubTotals,type:s?s.aggregateType:void 0,showFilterIcon:!!s&&s.showFilterIcon,showSortIcon:!!s&&s.showSortIcon,showRemoveIcon:!s||s.showRemoveIcon,showValueTypeIcon:!!s&&s.showValueTypeIcon,showEditIcon:!!s&&s.showEditIcon,allowDragAndDrop:!s||s.allowDragAndDrop}:void 0,axis:t?"row"===this.parent.dataSourceSettings.valueAxis?"rows":"columns":"fieldlist",position:-1}},e.prototype.getTreeNode=function(e,t,r){return e?JSON.stringify(window.sfBlazor.getDomObject("currentNode",sf.base.closest(document.elementFromPoint(r,t),"li"))):null},e.prototype.getAggregateIcoPosition=function(e){var t=this.parent instanceof _?this.parent.parentElement.querySelector(".e-chart-grouping-bar"):void 0,r=(t&&"Chart"===this.parent.currentView?t:this.parent.parentElement).querySelector(".e-pivot-button."+e);if(r&&r.querySelector(".e-dropdown-icon")){var o=r.querySelector(".e-dropdown-icon").getBoundingClientRect(),i={};return i.top=o.top,i.left=o.left,i.bottom=o.bottom,i.right=o.right,JSON.stringify(i)}return null},e.prototype.destroy=function(){this.keyboardModule.destroy()},e}(),w=function(){function r(e){this.keyConfigs={tab:"tab",shiftTab:"shift+tab",enter:"enter",shiftEnter:"shift+enter",ctrlEnter:"ctrl+enter",ctrlShiftF:"ctrl+shift+f"},this.parent=e,this.event=void 0,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.pivotViewKeyboardModule=new sf.base.KeyboardEvents(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}return r.prototype.keyActionHandler=function(e){var t=e.target;if(!t||!sf.base.closest(t,".e-pivotfieldlist-container"))switch(e.action){case"tab":this.processTab(e);break;case"shiftTab":this.processShiftTab(e);break;case"enter":case"shiftEnter":case"ctrlEnter":this.processEnter(e);break;case"ctrlShiftF":this.toggleFieldList(e)}},r.prototype.getAdjacentButton=function(e,t){var r=this.allpivotButtons(e);if(sf.base.removeClass(r,"e-btn-focused"),this.parent.internalGrid&&r)for(var o=r.length,i=0;i<o;i++)if(r[i].getAttribute("data-uid")===e.getAttribute("data-uid")){var l="next"===t?r[i+1]:r[i-1];return l||e}return e},r.prototype.allpivotButtons=function(e){var t=[];if(e&&this.parent.options.showGroupingBar){var r=sf.base.closest(e,".e-pivot-grouping-bar"),o=sf.base.closest(e,".e-group-pivot-rows"),i=sf.base.closest(e,".e-chart-grouping-bar"),l=e.classList.contains(d),n=void 0,s=void 0,a=void 0;if(null!==r?s=r.classList.contains("e-pivot-grouping-bar"):null!==o?a=o.classList.contains("e-group-pivot-rows"):null!==i&&(n=i.classList.contains("e-chart-grouping-bar")),s||a||l){var c=[].slice.call(this.parent.element.querySelector(".e-pivot-grouping-bar").querySelectorAll(".e-pivot-button")),u=[].slice.call(this.parent.element.querySelector(".e-group-pivot-rows").querySelectorAll(".e-pivot-button"));t=c.concat(u)}else n&&(t=[].slice.call(this.parent.element.querySelector(".e-chart-grouping-bar").querySelectorAll(".e-pivot-button")))}return t},r.prototype.processTab=function(e){var r=this,o=e.target;if(o&&(sf.base.closest(o,".e-pivot-button")||o.classList.contains(t))){if(this.parent.internalGrid){if(o.parentElement.parentElement.classList.contains("e-group-rows")&&o.classList.contains("e-btn-focused")){var i=this.getAdjacentButton(o,"next");return i.getAttribute("data-uid")!==o.getAttribute("data-uid")&&(sf.base.addClass([i],"e-btn-focused"),i.focus()),e.stopPropagation(),void e.preventDefault()}var n=this.getAdjacentButton(o,"next");return n.getAttribute("data-uid")!==o.getAttribute("data-uid")&&(sf.base.addClass([n],"e-btn-focused"),n.focus()),void e.preventDefault()}}else o&&sf.base.closest(o,"."+l)&&this.parent.options.showToolbar&&(clearTimeout(this.timeOutObj),this.timeOutObj=setTimeout((function(){var e=r.getAdjacentToolbarItem(document.activeElement,"next");sf.base.removeClass(sf.base.closest(o,"."+l).querySelectorAll(".e-menu-item.e-focused"),"e-focused"),e&&e.classList.contains("e-menu-item")&&sf.base.addClass([e],"e-focused")})))},r.prototype.getAdjacentToolbarItem=function(e,t){if(e.classList.contains("e-menu-item")&&e.classList.contains("e-focused")){var r=sf.base.closest(e,".e-toolbar-item"),o=[].slice.call(sf.base.closest(e,"."+l).querySelectorAll(".e-toolbar-item:not(.e-overlay)"));if("next"===t){for(var i=0;i<o.length;i++)if(r.id===o[i].id)return this.getActiveElement(o[i+1])}else for(i=o.length-1;i>-1;i--)if(r.id===o[i].id)return this.getActiveElement(o[i-1])}return e},r.prototype.getActiveElement=function(e){if(e){if("button"===e.firstElementChild.tagName.toLowerCase())return e.firstElementChild.focus(),e.firstElementChild;if(e.querySelector(".e-menu-item"))return e.querySelector(".e-menu-item").focus(),e.querySelector(".e-menu-item")}return document.activeElement},r.prototype.processShiftTab=function(e){var r=this,o=e.target;if(o&&(sf.base.closest(o,".e-pivot-button")||o.classList.contains(t))){if(this.parent.internalGrid){if(o.classList.contains(t)&&o.querySelector(".e-btn-focused"))o=o.querySelector(".e-btn-focused");else if(o.classList.contains(t)){o=this.parent.element.querySelector(".e-btn-focused")?this.parent.element.querySelector(".e-btn-focused"):this.parent.element.querySelector(".e-pivot-grouping-bar");var i=this.allpivotButtons(o);if(i.length>0&&i[i.length-1])return i[i.length-1].focus(),sf.base.removeClass(i,"e-btn-focused"),sf.base.addClass([i[i.length-1]],"e-btn-focused"),e.stopPropagation(),void e.preventDefault()}var n=this.getAdjacentButton(o,"previous");if(n.getAttribute("data-uid")!==o.getAttribute("data-uid"))return n.focus(),e.stopPropagation(),void e.preventDefault()}}else if(o&&this.parent.internalGrid&&(o.classList.contains("e-movablefirst")||o.classList.contains(d)&&sf.base.closest(o,"tr").getAttribute("data-uid")===this.parent.internalGrid.element.querySelector(".e-frozencontent tr").getAttribute("data-uid"))){var s=this.allpivotButtons(o);if(s.length>0)return setTimeout((function(){s[s.length-1].focus()})),sf.base.removeClass(s,"e-btn-focused"),sf.base.addClass([s[s.length-1]],"e-btn-focused"),e.stopPropagation(),void e.preventDefault()}else o&&sf.base.closest(o,"."+l)&&this.parent.options.showToolbar&&(clearTimeout(this.timeOutObj),this.timeOutObj=setTimeout((function(){var e=r.getAdjacentToolbarItem(document.activeElement,"previous");sf.base.removeClass(sf.base.closest(o,"."+l).querySelectorAll(".e-menu-item.e-focused"),"e-focused"),e&&e.classList.contains("e-menu-item")&&sf.base.addClass([e],"e-focused")})))},r.prototype.processEnter=function(t){var r=t.target;if(r&&sf.base.closest(r,".e-grid"))return 13!==t.keyCode||t.shiftKey||t.ctrlKey?13===t.keyCode&&t.shiftKey&&!t.ctrlKey?this.parent.options.enableValueSorting&&(this.event=t,r.click()):13===t.keyCode&&!t.shiftKey&&t.ctrlKey&&this.parent.options.hyperlinkSettings&&r.querySelector("a")&&r.querySelector("a").click():r.querySelector("."+e)?(this.event=t,r.querySelector("."+e).click()):r.classList.contains("e-valuescontent")&&r.dispatchEvent(new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0})),void t.preventDefault()},r.prototype.toggleFieldList=function(e){var t=this.parent,r=e.target;if(t&&t.element&&t.options.showFieldList&&t.pivotFieldListModule){t.pivotFieldListModule=t.pivotFieldListModule&&t.pivotFieldListModule.blazor__instance?t.pivotFieldListModule.blazor__instance:t.pivotFieldListModule;var o=t.element.querySelector("#"+t.element.id+"fieldlist");if(t.options.showToolbar&&t.toolbarModule&&o&&o.querySelector("button")&&t.pivotFieldListModule.parentElement.classList.contains("e-popup-close"))return o.click(),void e.preventDefault();if(t.element.querySelector(".e-toggle-field-list")){if(!t.element.querySelector(".e-toggle-field-list").classList.contains("e-hide"))return t.element.querySelector(".e-toggle-field-list").click(),void e.preventDefault();if((t.element.querySelector(".e-toggle-field-list").classList.contains("e-hide")||t.options.showToolbar)&&r&&sf.base.closest(r,".e-pivotview")&&t.pivotFieldListModule.parentElement&&t.pivotFieldListModule.parentElement.classList.contains(c)){var i=t.pivotFieldListModule.parentElement.blazor__instance;i&&!i.closeOnEscape?i.dotNetRef.invokeMethodAsync("CloseDialog",{altKey:e.altKey,ctrlKey:e.ctrlKey,code:e.code,key:e.key,location:e.location,repeat:e.repeat,shiftKey:e.shiftKey,metaKey:e.metaKey,type:e.type}):t.closeDialog(t.pivotFieldListModule.parentElement,e)}}}},r.prototype.destroy=function(){this.pivotViewKeyboardModule&&this.pivotViewKeyboardModule.destroy()},r}(),C=function(){function e(e){this.isPopupClicked=!1,this.shiftLockedPos=[],this.savedSelectedCellsPos=[],this.cellSelectionPos=[],this.parent=e,this.parent.selectionModule=this}return e.prototype.addInternalEvents=function(){this.wireEvents()},e.prototype.wireEvents=function(){this.unWireEvents(),sf.base.EventHandler.add(this.parent.element,this.parent.isAdaptive?"touchend":"click",this.mouseClickHandler,this)},e.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.parent.element,this.parent.isAdaptive?"touchend":"click",this.mouseClickHandler)},e.prototype.mouseClickHandler=function(e){(3===e.which||0===e.which)&&(this.lastCellClicked=e.target);var t=e.target;if((t.classList.contains("e-headercell")||t.classList.contains("e-headercelldiv")||t.classList.contains(d)||t.classList.contains("e-rowcell")||t.classList.contains("e-stackedheadercelldiv")||t.classList.contains("e-headertext")||t.classList.contains("e-stackedheadertext"))&&"pivot"===this.parent.options.dataType){t.classList.contains("e-headercell")||t.classList.contains(d)||t.classList.contains("e-rowcell")?t:t.classList.contains("e-stackedheadercelldiv")||t.classList.contains("e-cellvalue")||t.classList.contains("e-headercelldiv")||t.classList.contains("e-ascending")||t.classList.contains("e-descending")?t.parentElement:t.classList.contains("e-headertext")&&t.parentElement.parentElement,this.cellClicked(t,e)}else this.cellClicked(t,e)},e.prototype.cellClicked=function(e,t){var r=this,o=null;if(e.classList.contains("e-headercell")||e.classList.contains("e-stackedheadercell")||e.classList.contains("e-rowcell")?o=e:e.classList.contains("e-stackedheadercelldiv")||e.classList.contains("e-cellvalue")||e.classList.contains("e-headercelldiv")?o=e.parentElement:e.classList.contains("e-headertext")?o=e.parentElement.parentElement.parentElement:e.classList.contains("e-stackedheadertext")?o=e.parentElement.parentElement:e.classList.contains("e-rowselect")&&(e.classList.contains("e-spanclicked")?this.isPopupClicked=!1:this.isPopupClicked=!0),o){var i=Number(o.getAttribute("aria-colindex")),l=Number(o.getAttribute("index")),n=Number(o.getAttribute("aria-colspan"));this.parent.gridSettings.allowSelection&&(("Both"===this.parent.gridSettings.selectionSettings.mode?!o.classList.contains("e-rowcell"):"Cell"===this.parent.gridSettings.selectionSettings.mode?o.classList.contains(u):"Row"!==this.parent.gridSettings.selectionSettings.mode)?this.parent.dotNetRef.invokeMethodAsync("ColumnSelectHandler",l,i,t).then((function(e){r.clearSelection(o,t,i,l),e||r.applyColumnSelection(t,o,i,i+(n>0?n-1:0),l)})):this.clearSelection(o,t,i,l)),this.getSelectedCellsPos();var s=JSON.stringify(this.savedSelectedCellsPos);("Both"===this.parent.gridSettings.selectionSettings.mode?!o.classList.contains("e-rowcell"):"Cell"===this.parent.gridSettings.selectionSettings.mode?o.classList.contains(u):"Row"!==this.parent.gridSettings.selectionSettings.mode)&&(this.parent.dotNetRef.invokeMethodAsync("CellClickedHandler",l,i,t),this.parent.dotNetRef.invokeMethodAsync("SelectHandler",i,l,s),this.savedSelectedCellsPos=[]),this.parent.gridSettings.allowSelection||e.classList.contains("e-expand")||e.classList.contains("e-collapse")||this.parent.dotNetRef.invokeMethodAsync("CellClickedHandler",l,i,t)}},e.prototype.clearSelection=function(e,t,r,o){if(sf.base.isNullOrUndefined(e))for(var i=0,l=[].slice.call(this.parent.element.querySelectorAll("."+h+", ."+p));i<l.length;i++){var n=l[i];sf.base.removeClass([n],["e-active",h,p])}else if(!t.shiftKey&&!t.ctrlKey||"Single"===this.parent.gridSettings.selectionSettings.type)if("Cell"===this.parent.gridSettings.selectionSettings.mode)e.classList.contains(u)?sf.base.removeClass(this.parent.element.querySelectorAll(".e-rowcell."+p),p):sf.base.removeClass(this.parent.element.querySelectorAll("."+u+".e-active"),["e-active",h]);else if("Both"===this.parent.gridSettings.selectionSettings.mode||"Row"===this.parent.gridSettings.selectionSettings.mode)if(e.classList.contains("e-rowcell"))for(var s=0,a=[].slice.call(this.parent.element.querySelectorAll("."+h+", ."+p));s<a.length;s++){n=a[s];sf.base.removeClass([n],["e-active",h,p])}else sf.base.removeClass(this.parent.element.querySelectorAll("."+p),p)},e.prototype.applyColumnSelection=function(e,t,r,o,i){var l=Number(t.getAttribute("index"));if(!t.classList.contains(d)||"Cell"!==this.parent.gridSettings.selectionSettings.mode||t.classList.contains(u)){var n=e.ctrlKey;"Multiple"===this.parent.gridSettings.selectionSettings.type&&null!==this.parent.element.querySelector(".e-rowselect")&&(this.isPopupClicked?(this.parent.element.querySelector(".e-rowselect").classList.add("e-spanclicked"),n=!0):(this.parent.element.querySelector(".e-rowselect").classList.remove("e-spanclicked"),n=!1));for(var s=[],a=this.parent.gridSettings.selectionSettings.type,c=t.classList.contains("e-active"),f=[],b={},y=r;y<=o;y++)f.push(y.toString());if(n&&"Single"!==a)c=!1;else{for(var g=0,m=[].slice.call(this.parent.element.querySelectorAll(".e-active"));g<m.length;g++){var v=m[g];sf.base.removeClass([v],["e-active",h]),-1===f.indexOf(v.getAttribute("aria-colindex"))&&(c=!1);var S=Number(v.getAttribute("aria-colindex"));b[S]=S}f=Object.keys(b).length>0?Object.keys(b).sort((function(e,t){return e-t})):f}"Multiple"===a&&e.shiftKey?(this.shiftLockedPos=0===this.shiftLockedPos.length?f:this.shiftLockedPos,Number(this.shiftLockedPos[0])<=r?r=Number(this.shiftLockedPos[0]):o=o<Number(this.shiftLockedPos[this.shiftLockedPos.length-1])?Number(this.shiftLockedPos[this.shiftLockedPos.length-1]):o):this.shiftLockedPos=[];var q=[];if(e.ctrlKey&&"Both"===this.parent.gridSettings.selectionSettings.mode&&"Multiple"===a&&!t.classList.contains(d))for(var w=0,C=[].slice.call(this.parent.element.querySelectorAll("."+d+"."+p));w<C.length;w++){v=C[w];q.push(v.getAttribute("index"))}for(var E=r;E<=o;)s.push('[aria-colindex="'+E+'"]'+("Cell"===this.parent.gridSettings.selectionSettings.mode?'[index="'+i+'"]':"")),E++;if(!c){i=t.classList.contains("e-headercell")?i:this.parent.scrollPageInfo.rowStartPos-1;for(var A=t.classList.contains("e-active"),_=0,L=[].slice.call(this.parent.element.querySelectorAll(s.toString()));_<L.length;_++){v=L[_];Number(v.getAttribute("index"))>=i&&(A&&n&&-1===q.indexOf(l.toString())?sf.base.removeClass([v],["e-active",h]):sf.base.addClass([v],["e-active",h]))}}}},e.prototype.getSelectedCellsPos=function(){for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll("."+h));e<t.length;e++){var r=t[e];this.savedSelectedCellsPos.push({rowIndex:r.getAttribute("index"),colIndex:r.getAttribute("aria-colindex")})}for(var o=0,i=[].slice.call(this.parent.element.querySelectorAll("."+p));o<i.length;o++){r=i[o];this.cellSelectionPos.push({rowIndex:r.getAttribute("index"),colIndex:r.getAttribute("aria-colindex")})}},e.prototype.destroy=function(){this.unWireEvents()},e}(),E=function(){function e(e){this.previousValues={top:0,left:0},this.frozenPreviousValues={top:0,left:0},this.eventType="",this.isScrolling=!1,this.parent=e,this.parent.virtualScrollModule=this}return e.prototype.addInternalEvents=function(){this.wireEvents()},e.prototype.wireEvents=function(){if(this.unWireEvents(),"Chart"!==this.parent.displayOptions.view){var e=this.parent.element.querySelector(".e-movablecontent"),t=this.parent.element.querySelector(".e-frozencontent"),r=this.parent.element.querySelector(".e-movableheader"),o=e.parentElement.parentElement.querySelector(".e-movablescrollbar");sf.base.EventHandler.clearEvents(e),sf.base.EventHandler.clearEvents(t);var i=this.parent.isAdaptive?e:e.parentElement.parentElement.querySelector(".e-movablescrollbar");sf.base.EventHandler.add(i,"scroll touchmove pointermove",this.onHorizondalScroll(r,e,t),this),sf.base.EventHandler.add(e.parentElement,"scroll wheel touchmove pointermove keyup keydown",this.onVerticalScroll(t,e),this),sf.base.EventHandler.add(e.parentElement.parentElement,"mouseup touchend",this.common(r,e,t),this),sf.base.EventHandler.add(o,"scroll",this.onCustomScrollbarScroll(e,r),this),sf.base.EventHandler.add(e,"scroll",this.onCustomScrollbarScroll(o,r),this),sf.base.EventHandler.add(r,"scroll",this.onCustomScrollbarScroll(o,e),this),sf.base.EventHandler.add(r,"touchstart pointerdown",this.setPageXY(),this),sf.base.EventHandler.add(r,"touchmove pointermove",this.onTouchScroll(r,e,t),this),sf.base.EventHandler.add(e,"touchstart pointerdown",this.setPageXY(),this),sf.base.EventHandler.add(e,"touchmove pointermove",this.onTouchScroll(r,e,t),this)}},e.prototype.unWireEvents=function(){var e=this.parent.element.querySelector(".e-movablecontent"),t=this.parent.element.querySelector(".e-frozencontent"),r=this.parent.element.querySelector(".e-movableheader"),o=e.parentElement.parentElement.querySelector(".e-movablescrollbar"),i=this.parent.isAdaptive?e:e.parentElement.parentElement.querySelector(".e-movablescrollbar");sf.base.EventHandler.remove(i,"scroll touchmove pointermove",this.onHorizondalScroll(r,e,t)),sf.base.EventHandler.remove(e.parentElement,"scroll wheel touchmove pointermove keyup keydown",this.onVerticalScroll(t,e)),sf.base.EventHandler.remove(e.parentElement.parentElement,"mouseup touchend",this.common(r,e,t)),sf.base.EventHandler.remove(o,"scroll",this.onCustomScrollbarScroll(e,r)),sf.base.EventHandler.remove(e,"scroll",this.onCustomScrollbarScroll(o,r)),sf.base.EventHandler.remove(r,"scroll",this.onCustomScrollbarScroll(o,e)),sf.base.EventHandler.remove(r,"touchstart pointerdown",this.setPageXY()),sf.base.EventHandler.remove(r,"touchmove pointermove",this.onTouchScroll(r,e,t)),sf.base.EventHandler.remove(e,"touchstart pointerdown",this.setPageXY()),sf.base.EventHandler.remove(e,"touchmove pointermove",this.onTouchScroll(r,e,t))},e.prototype.onWheelScroll=function(e,t){var r=this,o=e;return function(e){var t=o.parentElement.scrollTop+(1===e.deltaMode?30*e.deltaY:e.deltaY);r.frozenPreviousValues.top!==t&&(e.preventDefault(),r.frozenPreviousValues.top=t,r.eventType=e.type)}},e.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},e.prototype.onCustomScrollbarScroll=function(e,t){var r=this,o=e,i=t;return function(e){if(null!==r.parent.element.querySelector(".e-movablecontent").parentElement.querySelector("tbody")){var t=e.target.scrollLeft;r.previousValues.left!==t&&(o.scrollLeft=t,i.scrollLeft=t,r.previousValues.left=t)}}},e.prototype.onTouchScroll=function(e,t,r){var o=this,i=t;return function(r){if("mouse"!==r.pointerType){var l=o.getPointXY(r),n=i.parentElement.scrollTop+(o.pageXY.y-l.y),s=o.parent.isAdaptive?t:i.parentElement.parentElement.querySelector(".e-movablescrollbar"),a=s.scrollLeft+(o.pageXY.x-l.x);o.frozenPreviousValues.left===a||a<0||(e.scrollLeft=a,s.scrollLeft=a,o.pageXY.x=l.x,o.frozenPreviousValues.left=a,o.frozenPreviousValues.top===n||n<0||(o.pageXY.y=l.y,o.frozenPreviousValues.top=n,o.eventType=r.type))}}},e.prototype.update=function(e,t,r,o,i){var l=this;if(this.isScrolling=!0,this.parent.pageSettings)if("vertical"===this.direction){var n="pivot"===this.parent.options.dataType&&"row"===this.parent.dataSourceSettings.valueAxis?this.parent.dataSourceSettings.values.length:1,s=this.parent.pageSettings.rowSize*n*this.parent.gridSettings.rowHeight,a=Math.ceil(r/s);if(this.parent.scrollPosObject.vertical===a||this.parent.pageSettings.rowSize>=this.parent.scrollPageInfo.rowCount)return;this.parent.scrollPosObject.vertical=a,this.parent.pageSettings.rowCurrentPage=a>1?a:1;var c=0;"pivot"===this.parent.options.dataType&&this.parent.dotNetRef.invokeMethodAsync("UpdateScrollInfo",a,this.direction).then((function(e){l.parent.getScrollInfo(e),c=l.parent.scrollPageInfo.rowStartPos;var t=Math.ceil(c/(l.parent.pageSettings.rowSize*n)),r=s*t-l.parent.scrollPageInfo.rowFirstLvl*n*l.parent.gridSettings.rowHeight;l.parent.scrollPosObject.verticalSection=r}))}else{var d="pivot"===this.parent.options.dataType&&"column"===this.parent.dataSourceSettings.valueAxis?this.parent.dataSourceSettings.values.length:1,u=this.parent.pageSettings.columnSize*d*this.parent.gridSettings.columnWidth;a=Math.ceil(o/u);if(this.parent.scrollPosObject.horizontal===a)return;this.parent.scrollPosObject.horizontal=a,this.parent.pageSettings.columnCurrentPage=a>1?a:1;var p=0;"pivot"===this.parent.options.dataType&&this.parent.dotNetRef.invokeMethodAsync("UpdateScrollInfo",a,this.direction).then((function(e){l.parent.getScrollInfo(e),p=l.parent.scrollPageInfo.colStartPos;var t=Math.ceil(p/(l.parent.pageSettings.columnSize*d)),r=u*t-l.parent.scrollPageInfo.colFirstLvl*d*l.parent.gridSettings.columnWidth;l.parent.scrollPosObject.horizontalSection=r}))}},e.prototype.setPageXY=function(){var e=this;return function(t){"mouse"!==t.pointerType&&(e.pageXY=e.getPointXY(t))}},e.prototype.common=function(e,t,r){var o=this;return function(r){o.parent.isAdaptive||t.parentElement.parentElement.querySelector(".e-movablescrollbar");o.update(e,t,t.parentElement.scrollTop*o.parent.verticalScrollScale,t.scrollLeft*o.parent.horizontalScrollScale,r)}},e.prototype.onHorizondalScroll=function(e,t,r){var o,i=this;return function(r){var l=i.parent.isAdaptive?t:t.parentElement.parentElement.querySelector(".e-movablescrollbar"),n=t.scrollLeft*i.parent.horizontalScrollScale;if("wheel"!==r.type&&"touchmove"!==r.type&&"wheel"!==i.eventType&&"touchmove"!==i.eventType||(clearTimeout(o),o=setTimeout((function(){n="touchmove"===r.type?t.scrollLeft:n,i.update(e,t,t.parentElement.scrollTop*i.parent.verticalScrollScale,n,r)}),300)),i.previousValues.left!==n){i.scrollDirection=i.direction="horizondal";var s=-(n-i.parent.scrollPosObject.horizontalSection-t.scrollLeft),a=t.querySelector("."+f).style.transform.split(",").length>1?t.querySelector("."+f).style.transform.split(",")[1].trim():"0px)";t.scrollLeft<i.parent.scrollerBrowserLimit&&(sf.base.setStyleAttribute(t.querySelector("."+f),{transform:"translate("+s+"px,"+a}),sf.base.setStyleAttribute(e.querySelector("."+f),{transform:"translate("+s+"px,0px)"}));var c=i.parent.scrollPosObject.horizontalSection>n?-(i.parent.scrollPosObject.horizontalSection-n):n+e.offsetWidth-(i.parent.scrollPosObject.horizontalSection+t.querySelector("."+f).offsetWidth),d=Math.ceil(i.parent.scrollPosObject.horizontalSection/i.parent.horizontalScrollScale)<i.parent.scrollerBrowserLimit;if(i.parent.scrollPosObject.horizontalSection>n||c>1&&d){n>e.clientWidth?(i.parent.scrollPosObject.left<1&&(i.parent.scrollPosObject.left=e.clientWidth),i.parent.scrollPosObject.left=i.parent.scrollPosObject.left-50,c=i.parent.scrollPosObject.horizontalSection>n?c-i.parent.scrollPosObject.left:c+i.parent.scrollPosObject.left):c=-i.parent.scrollPosObject.horizontalSection,s=-(n-(i.parent.scrollPosObject.horizontalSection+c)-t.parentElement.parentElement.querySelector(".e-movablescrollbar").scrollLeft);var u=i.parent.gridSettings.columnWidth*i.parent.scrollPageInfo.columnCount;u>i.parent.scrollerBrowserLimit&&(i.parent.horizontalScrollScale=u/i.parent.scrollerBrowserLimit,u=i.parent.scrollerBrowserLimit),s>u&&s>n&&(s=n,c=0),sf.base.setStyleAttribute(t.querySelector("."+f),{transform:"translate("+s+"px,"+a}),sf.base.setStyleAttribute(e.querySelector("."+f),{transform:"translate("+s+"px,0px)"}),i.parent.scrollPosObject.horizontalSection=i.parent.scrollPosObject.horizontalSection+c}var p=l.scrollWidth-(l.scrollLeft+l.offsetWidth);if(p<=0){var h=t.querySelector(".e-virtualtrack");h.style.display="none";var b=t.scrollWidth-(t.scrollLeft+t.offsetWidth);h.style.display="";var y=t.scrollWidth-(t.scrollLeft+t.offsetWidth);i.parent.scrollPosObject.horizontalSection-=b>p?b:-y,s=l.scrollLeft>i.parent.scrollerBrowserLimit?Number(t.querySelector("."+f).style.transform.split(",")[0].split("px")[0].trim()):-(l.scrollLeft*i.parent.horizontalScrollScale-i.parent.scrollPosObject.horizontalSection-l.scrollLeft),sf.base.setStyleAttribute(t.querySelector("."+f),{transform:"translate("+s+"px,"+a}),sf.base.setStyleAttribute(e.querySelector("."+f),{transform:"translate("+s+"px,0px)"})}i.previousValues.left=n,i.frozenPreviousValues.left=n,i.eventType="",e.scrollLeft=t.scrollLeft}}},e.prototype.onVerticalScroll=function(e,t){var r,o=this;return function(i){var l=t.parentElement.scrollTop*o.parent.verticalScrollScale;if("wheel"===i.type||"touchmove"===i.type||"wheel"===o.eventType||"touchmove"===o.eventType||"keyup"===i.type||"keydown"===i.type){o.parent.isAdaptive||t.parentElement.parentElement.querySelector(".e-movablescrollbar");clearTimeout(r),r=setTimeout((function(){o.update(null,t,t.parentElement.scrollTop*o.parent.verticalScrollScale,t.scrollLeft*o.parent.horizontalScrollScale,i)}),300)}if(o.previousValues.top!==l){o.scrollDirection=o.direction="vertical";var n=-(l-o.parent.scrollPosObject.verticalSection-t.parentElement.scrollTop),s=t.querySelector("."+f).style.transform.split(",")[0].trim();n>o.virtualDiv.clientHeight&&(n=o.virtualDiv.clientHeight),t.parentElement.scrollTop<o.parent.scrollerBrowserLimit&&(sf.base.setStyleAttribute(e.querySelector("."+f),{transform:"translate(0px,"+n+"px)"}),sf.base.setStyleAttribute(t.querySelector("."+f),{transform:s+","+n+"px)"}));var a=o.parent.scrollPosObject.verticalSection>l?-(o.parent.scrollPosObject.verticalSection-l):l+e.parentElement.clientHeight-(o.parent.scrollPosObject.verticalSection+e.querySelector("."+f).offsetHeight),c=Math.ceil(o.parent.scrollPosObject.verticalSection/o.parent.verticalScrollScale)<o.parent.scrollerBrowserLimit;if(o.parent.scrollPosObject.verticalSection>l||a>1&&c){l>e.parentElement.clientHeight?(o.parent.scrollPosObject.top<1&&(o.parent.scrollPosObject.top=e.parentElement.clientHeight),o.parent.scrollPosObject.top=o.parent.scrollPosObject.top-50,a=o.parent.scrollPosObject.verticalSection>l?a-o.parent.scrollPosObject.top:a+o.parent.scrollPosObject.top):a=-o.parent.scrollPosObject.verticalSection;var d=o.parent.element.querySelector(".e-movablecontent").querySelector("."+f);n=-(l-(o.parent.scrollPosObject.verticalSection+a)-t.parentElement.scrollTop);var u=o.parent.gridSettings.rowHeight*o.parent.scrollPageInfo.rowCount+.1-d.clientHeight;u>o.parent.scrollerBrowserLimit&&(o.parent.verticalScrollScale=u/o.parent.scrollerBrowserLimit,u=o.parent.scrollerBrowserLimit),n>u&&n>l&&(n=l,a=0),sf.base.setStyleAttribute(e.querySelector("."+f),{transform:"translate(0px,"+n+"px)"}),sf.base.setStyleAttribute(t.querySelector("."+f),{transform:s+","+n+"px)"}),o.parent.scrollPosObject.verticalSection=o.parent.scrollPosObject.verticalSection+a}o.previousValues.top=l,o.frozenPreviousValues.top=l,o.eventType=""}}},e.prototype.updateScrollInfo=function(e,t,r){if(this.parent.options.enableVirtualization){e.querySelector(".e-movablecontent")&&!e.querySelector(".e-movablecontent").querySelector(".e-virtualtrack")&&(this.virtualDiv=sf.base.createElement("div",{className:"e-virtualtrack"}),e.querySelector(".e-movablecontent").appendChild(this.virtualDiv)),e.querySelector(".e-movableheader")&&!e.querySelector(".e-movableheader").querySelector(".e-virtualtrack")?(this.virtualHeaderDiv=sf.base.createElement("div",{className:"e-virtualtrack"}),e.querySelector(".e-movableheader").appendChild(this.virtualHeaderDiv)):this.virtualHeaderDiv=e.querySelector(".e-movableheader").querySelector(".e-virtualtrack");var o=e.querySelector(".e-movablecontent").querySelector("."+f),i=this.parent.gridSettings.rowHeight*r+.1-o.clientHeight;i>this.parent.scrollerBrowserLimit&&(this.parent.verticalScrollScale=i/this.parent.scrollerBrowserLimit,i=this.parent.scrollerBrowserLimit);var l=this.parent.gridSettings.columnWidth*t;l>this.parent.scrollerBrowserLimit&&(this.parent.horizontalScrollScale=l/this.parent.scrollerBrowserLimit,l=this.parent.scrollerBrowserLimit),sf.base.setStyleAttribute(this.virtualDiv,{height:(i>.1?i:.1)+"px",width:(l>.1?l:.1)+"px"}),sf.base.setStyleAttribute(this.virtualHeaderDiv,{height:0,width:(l>.1?l:.1)+"px"});var n=e.querySelector(".e-movablecontent"),s=e.querySelector(".e-frozencontent"),a=e.querySelector(".e-movableheader");this.parent.isAdaptive&&(n.parentElement.parentElement.querySelector(".e-movablescrollbar").children[0].style.minHeight="1px",n.parentElement.parentElement.querySelector(".e-movablescrollbar").style.minHeight="1px");var c=this.parent.isAdaptive?n:n.parentElement.parentElement.querySelector(".e-movablescrollbar"),d=n.parentElement.scrollTop>this.parent.scrollerBrowserLimit?n.querySelector("."+f).style.transform.split(",")[1].trim():-(n.parentElement.scrollTop*this.parent.verticalScrollScale-this.parent.scrollPosObject.verticalSection-n.parentElement.scrollTop)+"px)",u=c.scrollLeft>this.parent.scrollerBrowserLimit?n.querySelector("."+f).style.transform.split(",")[0].trim()+",":"translate("+-(c.scrollLeft*this.parent.horizontalScrollScale-this.parent.scrollPosObject.horizontalSection-c.scrollLeft)+"px,";sf.base.setStyleAttribute(s.querySelector("."+f),{transform:"translate(0px,"+d}),sf.base.setStyleAttribute(n.querySelector("."+f),{transform:u+d}),sf.base.setStyleAttribute(a.querySelector("."+f),{transform:u+0+"px)"}),e.querySelector(".e-movablechild").style.width=l+(n.parentElement.offsetWidth-n.parentElement.clientWidth)+"px";var p="pivot"===this.parent.options.dataType&&"column"===this.parent.options.dataSourceSettings.valueAxis?this.parent.options.dataSourceSettings.values.length:1,h=this.parent.pageSettings.columnSize*p*this.parent.options.gridSettings.columnWidth,b=c.scrollWidth-(c.scrollLeft+c.offsetWidth);if(this.parent&&h>0&&b<=h&&c.scrollLeft>0){this.virtualDiv.style.display="none";var y=n.scrollWidth-(n.scrollLeft+n.offsetWidth);this.virtualDiv.style.display="";var g=n.scrollWidth-(n.scrollLeft+n.offsetWidth);this.parent.scrollPosObject.horizontalSection-=b<=0?y>b?y:-g:g===y?y-b:y<g&&(b===g||b>y)?-(g-y):0,u=c.scrollLeft>this.parent.scrollerBrowserLimit?n.querySelector("."+f).style.transform.split(",")[0].trim()+",":"translate("+-(c.scrollLeft*this.parent.horizontalScrollScale-this.parent.scrollPosObject.horizontalSection-c.scrollLeft)+"px,",sf.base.setStyleAttribute(n.querySelector(".e-table"),{transform:u+d}),sf.base.setStyleAttribute(a.querySelector(".e-table"),{transform:u+0+"px)"})}this.parent.internalGrid&&this.parent.internalGrid.options&&"auto"!==this.parent.internalGrid.options.height||this.parent.internalGrid.element&&"auto"!==this.parent.internalGrid.element.style.height?(s.style.height=(this.virtualDiv.offsetHeight+o.clientHeight).toString()+"px",n.style.height=(this.virtualDiv.offsetHeight+o.clientHeight).toString()+"px"):(s.style.height=e.querySelector(".e-frozencontent ."+f).toString()+"px",n.style.height=e.querySelector(".e-frozencontent ."+f).toString()+"px")}},e.prototype.destroy=function(){this.unWireEvents()},e}(),A=function(){function e(e){this.keyConfigs={escape:"escape"},this.parent=e,this.event=void 0,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex;var t=document.getElementById(this.parent.element.id+"_drillthrough");this.drillThroughKeyboardModule=new sf.base.KeyboardEvents(t,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}return e.prototype.keyActionHandler=function(e){switch(e.action){case"escape":this.processClose(e)}},e.prototype.processClose=function(e){var t=e.target;if(t&&sf.base.closest(t,"."+a+"."+c)){var r=sf.base.closest(t,"."+a+"."+c).blazor__instance,o=this;if(r&&!r.closeOnEscape){var i=r.element.getAttribute("data-fieldName");r.dotNetRef.invokeMethodAsync("CloseDialog",{altKey:e.altKey,ctrlKey:e.ctrlKey,code:e.code,key:e.key,location:e.location,repeat:e.repeat,shiftKey:e.shiftKey,metaKey:e.metaKey,type:e.type}).then((function(){if(o.parent.parentElement)for(var t=0,r=[].slice.call(o.parent.parentElement.querySelectorAll(".e-pivot-button"));t<r.length;t++){var l=r[t];if(l.getAttribute("data-uid")===i){l.focus();break}}e.preventDefault()}))}else o.parent.closeDialog(sf.base.closest(t,"."+a+"."+c),e)}},e.prototype.destroy=function(){this.drillThroughKeyboardModule&&!this.drillThroughKeyboardModule.isDestroyed&&this.drillThroughKeyboardModule.destroy()},e}(),_=function(){function t(e,t,r){this.scrollPageInfo={rowCount:0,columnCount:0,colFirstLvl:0,rowFirstLvl:0,colStartPos:0,rowStartPos:0},this.verticalScrollScale=1,this.horizontalScrollScale=1,this.scrollerBrowserLimit=8e6,this.scrollPosObject={vertical:0,horizontal:0,verticalSection:0,horizontalSection:0,top:0,left:0,scrollDirection:{direction:"",position:0}},this.element=e,this.element.blazor__instance=this,this.dotNetRef=r,this.getOptions(e,t),this.initModules()}return t.prototype.getOptions=function(e,t){this.element=e,this.options=t,this.element.blazor__instance=this,this.parentElement=e,this.isAdaptive=sf.base.Browser.isDevice,this.internalGrid=t.internalGrid&&t.internalGrid.blazor__instance?t.internalGrid.blazor__instance:{element:t.internalGrid},this.pivotFieldListModule=t.fieldListModule&&t.fieldListModule.blazor__instance?t.fieldListModule.blazor__instance:t.fieldListModule,this.fieldList=t.fieldList,this.dataSourceSettings=t.dataSourceSettings,this.gridSettings=t.gridSettings,this.editSettings=t.editSettings,this.displayOptions=t.displayOptions,this.enableValueSorting=t.enableValueSorting,this.currentView="Both"===this.displayOptions.view?this.displayOptions.primary:this.displayOptions.view,this.groupingBarSettings=this.options.groupingBarsettings,this.pageSettings=this.options.pageSettings,this.options.scrollPageInfo&&this.getScrollInfo(this.options.scrollPageInfo)},t.prototype.initModules=function(){this.options.showGroupingBar&&(this.groupingBarModule=new g(this)),this.options.showToolbar&&(this.toolbarModule=new v(this)),this.options.allowCalculatedField&&(this.calculatedFieldModule=new m(this)),this.options.enableVirtualization&&(this.virtualScrollModule=new E(this)),this.gridSettings.allowSelection&&(this.selectionModule=new C(this)),this.keyboardModule=new w(this),this.commonActionModule=new q(this),this.contentReady(),this.unWireEvents(),this.wireEvents()},t.prototype.updateModuleProperties=function(){this.options.showGroupingBar&&(this.groupingBarModule?this.groupingBarModule.parent=this.pivotButtonModule.parent=this:this.groupingBarModule=new g(this)),this.options.showToolbar&&(this.toolbarModule?this.toolbarModule.parent=this:this.toolbarModule=new v(this)),this.options.allowCalculatedField&&(this.calculatedFieldModule?this.calculatedFieldModule.parent=this:this.calculatedFieldModule=new m(this)),this.gridSettings.allowSelection&&(this.selectionModule?this.selectionModule.parent=this:this.selectionModule=new C(this)),this.options.enableVirtualization&&(this.virtualScrollModule?this.virtualScrollModule.parent=this:this.virtualScrollModule=new E(this)),this.editSettings.allowEditing&&this.drillThroughModule&&(this.drillThroughModule.parent=this),this.keyboardModule.parent=this.commonActionModule.parent=this.commonActionModule.keyboardModule.parent=this},t.prototype.getChartHeight=function(e){var t;return this.element.querySelector(".e-pivotchart")&&this.element.querySelector(".e-chart-grouping-bar")&&(this.element.querySelector(".e-chart-grouping-bar").style.width=this.element.querySelector(".e-pivotchart").style.width,e=this.element.querySelector(".e-chart-grouping-bar").clientHeight),this.options.showToolbar&&this.options.showGroupingBar?t=(e-(this.element.querySelector(".e-pivot-toolbar")?this.element.querySelector(".e-pivot-toolbar").clientHeight:42)-(this.element.querySelector(".e-chart-grouping-bar")?this.element.querySelector(".e-chart-grouping-bar").clientHeight:76)).toString():this.options.showToolbar?t=(e-(this.element.querySelector(".e-pivot-toolbar")?this.element.querySelector(".e-pivot-toolbar").clientHeight:42)).toString():this.options.showGroupingBar&&(t=(e-(this.element.querySelector(".e-chart-grouping-bar")?this.element.querySelector(".e-chart-grouping-bar").clientHeight:76)).toString()),t},t.prototype.contentReady=function(){if(this.updateModuleProperties(),this.options.renderGrid){if(this.options.showGroupingBar&&this.groupingBarModule)this.groupingBarModule.updatePivotButtons(),this.groupingBarModule.refreshUI();else if(this.element&&this.element.querySelectorAll(".e-axis-container").length>0)for(var e=0,t=[].slice.call(this.element.querySelectorAll(".e-axis-container"));e<t.length;e++){var r=t[e];sf.base.closest(r,".e-pivotfieldlist-container")||sf.base.remove(r)}this.options.enableVirtualization&&this.virtualScrollModule&&this.virtualScrollModule.addInternalEvents(),this.gridSettings.allowSelection&&this.selectionModule&&this.selectionModule.addInternalEvents()}},t.prototype.getSelectedCellDom=function(e){return e?JSON.stringify(window.sfBlazor.getDomObject("currentCell",e)):null},t.prototype.selectedCell=function(e,t,r){return r?this.getSelectedCellDom(this.element.querySelector("."+(0===e?"e-frozenheader":"e-movableheader")+' th[index="'+t+'"][aria-colindex="'+e+'"]')):this.getSelectedCellDom(this.element.querySelector("."+(0===e?"e-frozencontent":"e-movablecontent")+' td[index="'+t+'"][aria-colindex="'+e+'"]'))},t.prototype.hyperlinkCellclick=function(e,t){if(null!=e){e.currentCell=window.sfBlazor.getElementByXpath(t);var r=e.currentCell.getAttribute("data-url")?e.currentCell.getAttribute("data-url"):e.currentCell.querySelector("a").getAttribute("data-url");window.open(r)}},t.prototype.createSheet=function(e,t,r){var o=".format"+t+r;this.createStyleSheet().insertRule(o+", "+o+" .e-cellvalue{"+e+"}",0)},t.prototype.getScrollInfo=function(e){e&&(this.scrollPageInfo.colFirstLvl=e.colFirstLvl,this.scrollPageInfo.rowFirstLvl=e.rowFirstLvl,this.scrollPageInfo.columnCount=e.columnCount,this.scrollPageInfo.rowCount=e.rowCount,this.scrollPageInfo.colStartPos=e.colStartPos,this.scrollPageInfo.rowStartPos=e.rowStartPos)},t.prototype.exportDocument=function(e,t,r){if(navigator.msSaveBlob){for(var o=window.atob(r),i=new Uint8Array(o.length),l=0;l<o.length;l++)i[l]=o.charCodeAt(l);var n=new Blob([i.buffer],{type:"application/octet-stream"});navigator.msSaveBlob(n,t)}else{var s=document.createElement("a");s.download=t,s.href="data:application/octet-stream;base64,"+r,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},t.prototype.createStyleSheet=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet},t.prototype.getSelectedCells=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+p+",."+h));e<t.length;e++){var r=t[e],o=Number(r.getAttribute("aria-colindex")),i=Number(r.getAttribute("index")),l={};if(!sf.base.isNullOrUndefined(o)&&!sf.base.isNullOrUndefined(i))return l.index=i,l["aria-colindex"]=o,JSON.stringify(l)}return JSON.stringify([])},t.prototype.onContextMenuOpen=function(){if(this.options.allowGrouping&&this.lastCellClicked){var e=sf.base.closest(this.lastCellClicked,"td."+d+",th."+u);if(this.lastCellClicked=void 0,e&&!e.classList.contains("e-valuesheader")){var t=Number(e.getAttribute("aria-colindex")),r=Number(e.getAttribute("index")),o={};if(!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(r))return o.index=r,o["aria-colindex"]=t,JSON.stringify(o)}return null}return null},t.prototype.mouseRclickHandler=function(e){this.lastCellClicked=e.target},t.prototype.mouseClickHandler=function(e){this.element.querySelectorAll(".e-btn-focused").length>0&&sf.base.removeClass(this.element.querySelectorAll(".e-btn-focused"),"e-btn-focused"),this.element.querySelector("."+l)&&this.element.querySelector("."+l).querySelectorAll(".e-menu-item.e-focused").length>0&&sf.base.removeClass(this.element.querySelector("."+l).querySelectorAll(".e-menu-item.e-focused"),"e-focused");var t=e.target;if(this.enableValueSorting&&"pivot"===this.options.dataType&&(t.classList.contains("e-sortfilterdiv")||t.classList.contains("e-stackedheadertext")||t.classList.contains("e-stackedheadercelldiv")||t.classList.contains("e-headertext")||t.classList.contains("e-stackedheadercelldiv")||t.classList.contains("e-headercelldiv")||t.classList.contains("e-headercell")||t.classList.contains("e-cellvalue")||t.classList.contains(u)||t.classList.contains(d))){if((i=sf.base.closest(t,"td."+d+",th."+u))&&(sf.base.closest(i,".e-movableheader")&&"column"===this.dataSourceSettings.valueAxis||sf.base.closest(i,"tr.e-row")&&"row"===this.dataSourceSettings.valueAxis&&(i.classList.contains(d)||i.classList.contains("e-stot")))){if(this.enableValueSorting){var r=Number(i.getAttribute("aria-colindex")),o=Number(i.getAttribute("index"));"column"===this.dataSourceSettings.valueAxis&&(this.dataSourceSettings.values.length>1||this.dataSourceSettings.alwaysShowValueHeader)&&(r=Number(i.getAttribute("aria-colindex"))+Number(i.getAttribute("aria-colspan"))-1),this.dotNetRef.invokeMethodAsync("MouseClickHandler",o,r)}e.preventDefault()}}else if(!this.gridSettings.allowSelection){var i;if(null!==(i=sf.base.closest(t,"td."+d+",th."+u+",td.e-rowcell"))){r=Number(i.getAttribute("aria-colindex")),o=Number(i.getAttribute("index"));t.classList.contains("e-expand")||t.classList.contains("e-collapse")||this.dotNetRef.invokeMethodAsync("CellClickedHandler",o,r,e)}}},t.prototype.getHeightAsNumber=function(){var e;return isNaN(this.options.height)?this.options.height.toString().indexOf("%")>-1?e=parseFloat(this.options.height.toString())/100*this.element.offsetHeight:this.options.height.toString().indexOf("px")>-1?e=Number(this.options.height.toString().split("px")[0]):"auto"===this.options.height&&(e=this.element.offsetHeight):e=Number(this.options.height),e<300&&(e=300),e},t.prototype.calculateGridHeight=function(e,t,r){var o=this.options.height,i=this.getHeightAsNumber(),n=t*this.gridSettings.rowHeight;if(isNaN(i)&&(i=i>300?i:300),"auto"===this.gridSettings.height&&i&&this.element.querySelector(".e-gridheader")){if(o=i-(r*this.gridSettings.rowHeight+(this.element.querySelector(".e-gridheader").offsetHeight-this.element.querySelector(".e-headercontent").offsetHeight)+(this.element.querySelector(".e-grouping-bar")?this.element.querySelector(".e-grouping-bar").offsetHeight:0)+(this.element.querySelector("."+l)?this.element.querySelector("."+l).clientHeight:0))-1,e){var s=this.internalGrid&&this.internalGrid.options&&!isNaN(this.internalGrid.options.height)?Number(this.internalGrid.options.height):this.element.querySelector(".e-movablecontent").offsetHeight,a=this.element.querySelector(".e-movablecontent ."+f).offsetWidth,c=this.element.querySelector(".e-movablecontent").offsetWidth<a;if(o>=n&&(!c||o>=s)&&!(s<n)&&!!!(c&&o-n<18))return"auto"}else if(o>t*this.gridSettings.rowHeight)return"auto"}else o=this.gridSettings.height;return o<this.gridSettings.rowHeight?this.gridSettings.rowHeight.toString():n<o?n.toString():o.toString()},t.prototype.updateGridUI=function(e,t,r,o){if(t&&this.getOptions(e,t),this.options.showGroupingBar&&this.groupingBarModule)this.groupingBarModule.refreshUI();else{var i=e.querySelector(".e-frozenheader").querySelector(".e-columnheader");i&&i.querySelector(".e-rhandler")&&(i.style.height=i.querySelector(".e-rhandler").style.height="auto",i.style.height=i.querySelector(".e-rhandler").style.height=e.querySelector(".e-headercontent").offsetHeight+"px")}if(e.querySelector(".e-movableheader ."+f)&&"0px"===e.querySelector(".e-movableheader ."+f).style.width&&(e.querySelector(".e-movablecontent ."+f).style.width=e.querySelector(".e-movableheader ."+f).style.width=""),e.querySelector(".e-movableheader ."+f+" th.e-firstcell.e-lastcell")&&e.querySelector(".e-movableheader ."+f+" th.e-firstcell.e-lastcell").offsetWidth<=0){var l=e.querySelector(".e-movableheader ."+f+" colgroup").children,n=e.querySelector(".e-movablecontent ."+f+" colgroup").children,s=sf.base.formatUnit(this.options.gridSettings.columnWidth);l.length>1&&"auto"===l[l.length-1].style.width&&(l[l.length-1].style.width=s),n.length>1&&"auto"===n[n.length-1].style.width&&(n[n.length-1].style.width=s)}t&&this.virtualScrollModule&&this.virtualScrollModule.updateScrollInfo(e,r,o);var a=e.querySelector(".e-gridcontent .e-content");!a||a.scrollHeight>a.clientHeight||(sf.base.setStyleAttribute(a,{overflow:"hidden auto"}),e.querySelector(".e-gridheader")&&sf.base.setStyleAttribute(e.querySelector(".e-gridheader"),this.options.enableRtl?{paddingLeft:""}:{paddingRight:""}),e.querySelector(".e-headercontent")&&sf.base.setStyleAttribute(e.querySelector(".e-headercontent"),this.options.enableRtl?{borderLeftWidth:""}:{borderRightWidth:""}))},t.prototype.updateView=function(e,t){e&&(this.displayOptions=JSON.parse(t),"Both"===this.displayOptions.view&&"Table"===this.displayOptions.primary?(this.element.querySelector(".e-pivotchart").style.display="none",sf.base.select("#"+this.element.id+"_grid",this.element).style.display="",this.options.showGroupingBar&&this.element.querySelector(".e-pivotchart")&&this.element.querySelector(".e-chart-grouping-bar")&&(this.element.querySelector(".e-chart-grouping-bar").style.display="none",this.element.querySelector(".e-pivot-grouping-bar").style.display="")):"Both"===this.displayOptions.view&&"Chart"===this.displayOptions.primary&&(this.element.querySelector(".e-pivotchart").style.display="",sf.base.select("#"+this.element.id+"_grid",this.element).style.display="none",this.options.showGroupingBar&&this.element.querySelector(".e-pivot-grouping-bar")&&(this.element.querySelector(".e-pivot-grouping-bar").style.display="none",this.element.querySelector(".e-chart-grouping-bar").style.display="")))},t.prototype.updateGridSettings=function(e,t,r){e&&null!==t&&(this.gridSettings=JSON.parse(t)),r&&this.selectionModule&&this.selectionModule.clearSelection()},t.prototype.getClientWidth=function(e,t){return e&&null!==t?document.getElementById(t).clientWidth:null},t.prototype.getTableCellNode=function(e,t,r){if(e){var o=document.elementFromPoint(r,t);if(o){var i=Number(o.getAttribute("aria-colindex")),l=Number(o.getAttribute("index")),n={};if(i&&l)return n.index=l,n["aria-colindex"]=i,JSON.stringify(n)}}return null},t.prototype.updateColorPickerUI=function(t){if(t){for(var r=[].slice.call(t.querySelectorAll(".e-colorpicker-container.e-format-font-color-picker-container")),o=[].slice.call(t.querySelectorAll(".e-colorpicker-container.e-format-back-color-picker-container")),i=0,l=r;i<l.length;i++){var n=l[i];sf.base.addClass([n],["e-format-color-picker","e-format-font-color-picker"]),sf.base.addClass([n.querySelector(".e-colorpicker")],"e-format-font-color"),sf.base.addClass([n.querySelector(".e-selected-color")],e)}for(var s=0,a=o;s<a.length;s++){n=a[s];sf.base.addClass([n],"e-format-color-picker"),sf.base.addClass([n.querySelector(".e-colorpicker")],"e-format-back-color"),sf.base.addClass([n.querySelector(".e-selected-color")],e)}}},t.prototype.onWindowResize=function(){var e=this;clearTimeout(this.timeOutObj),this.timeOutObj=setTimeout((function(){var t=e.element.getBoundingClientRect();e.dotNetRef.invokeMethodAsync("LayoutRefresh",t.width,t.height)}),500)},t.prototype.drillthroughIntialize=function(e){e&&this.editSettings.allowEditing&&(this.drillThroughModule=new A(this))},t.prototype.closeDialog=function(e,t){return e.querySelector("."+b)?(e.querySelector("."+b).click(),void t.preventDefault()):e.querySelector(".e-cancel-btn")?(e.querySelector(".e-cancel-btn").click(),void t.preventDefault()):void 0},t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,this.isAdaptive?"touchend":"click",this.mouseClickHandler,this),sf.base.EventHandler.add(this.element,this.isAdaptive?"touchend":"contextmenu",this.mouseRclickHandler,this),window.addEventListener("resize",this.onWindowResize.bind(this),!0)},t.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,this.isAdaptive?"touchend":"click",this.mouseClickHandler),sf.base.EventHandler.remove(this.element,this.isAdaptive?"touchend":"contextmenu",this.mouseRclickHandler),window.removeEventListener("resize",this.onWindowResize.bind(this),!0)},t.prototype.destroy=function(){this.unWireEvents(),this.keyboardModule.destroy(),this.commonActionModule.destroy(),this.options.showGroupingBar&&(this.groupingBarModule.destroy(),this.pivotButtonModule.destroy()),this.options.showFieldList&&this.pivotFieldListModule&&this.pivotFieldListModule.destroy(),this.options.enableVirtualization&&this.virtualScrollModule&&this.virtualScrollModule.destroy(),this.gridSettings.allowSelection&&this.selectionModule&&this.selectionModule.destroy(),this.editSettings.allowEditing&&this.drillThroughModule&&this.drillThroughModule.destroy()},t}(),L=function(){function t(e){this.parent=e,this.parent.treeRendererModule=this}return t.prototype.updateFieldListIcons=function(e,t,r){for(var o=document.getElementById(e),i=[].slice.call(o.querySelectorAll("ul li")),l=0;l<i.length;l++)for(var n=0;n<t.length;n++)if(t[n].id===i[l].getAttribute("data-uid")){this.updateTreeNode(i[l],t[n],r);break}},t.prototype.updateTreeNode=function(t,r,o){var i=!1;i="olap"!==this.parent.options.dataType||this.updateOlapTreeNode(t);var l=t.querySelector(".e-text-content");if(t.querySelector("."+n)&&l){var s=t.querySelector("."+n);l.insertBefore(s,t.querySelector(".e-list-text"))}if(i&&!this.parent.isAdaptive){var a=this.parent.commonActionModule.getFieldInfo(r.id);i=!1;var c=sf.base.createElement("span",{attrs:{tabindex:"-1","aria-disabled":"false"}});c.appendChild(sf.base.createElement("span",{attrs:{tabindex:"-1",title:a.fieldItem?a.fieldItem.allowDragAndDrop?o:"":o,"aria-disabled":"false"},className:e+" e-drag "+(a.fieldItem?a.fieldItem.allowDragAndDrop?"":"e-disable-drag":"")})),t.querySelector(".e-checkbox-wrapper")&&!t.querySelector(".e-drag")&&l&&l.insertBefore(c,t.querySelector(".e-checkbox-wrapper")),this.parent.pivotButtonModule.createDraggable(!0,c,a.fieldItem)}t.querySelector(".e-check")&&sf.base.addClass([t.querySelector(".e-list-text")],"e-selected-node")},t.prototype.updateOlapTreeNode=function(e){if("olap"!==this.parent.options.dataType||!e)return!0;var t=e.querySelector(".e-text-content");return t.querySelector(".e-calcMemberGroupCDB,.e-measureGroupCDB-icon,.e-folderCDB-icon,.e-folderCDB-open-icon,.e-dimensionCDB-icon,.e-kpiCDB-icon")&&(t.querySelector(".e-checkbox-wrapper").style.display="none"),t.querySelector("."+n)&&t.querySelector("."+n).className.indexOf("e-level-members")>-1&&(this.parent.isAdaptive?t.querySelector(".e-checkbox-wrapper").style.display="none":t.querySelector(".e-checkbox-wrapper").style.visibility="hidden"),!!(t.querySelector(".e-hierarchyCDB-icon,.e-attributeCDB-icon,.e-namedSetCDB-icon")||t.querySelector(".e-measure-icon,.e-kpiGoal-icon,.e-kpiStatus-icon,.e-kpiTrend-icon,.e-kpiValue-icon")||t.querySelector(".e-calc-measure-icon,.e-calc-dimension-icon"))&&(!t.querySelector(".e-measure-icon")||(t.querySelector("."+n).style.display="none",!0))},t}(),x=function(){function e(e,t,r){this.element=e,this.element.blazor__instance=this,this.dotNetRef=r,this.getOptions(e,t),this.dotNetRef=r}return e.prototype.getOptions=function(e,t){this.element=e,this.options=t,this.element.blazor__instance=this,this.parentElement=document.getElementById(e.id+"_Dialog_Container"),this.isAdaptive=sf.base.Browser.isDevice,this.pivotGridModule=t.pivotGridModule&&t.pivotGridModule.blazor__instance?t.pivotGridModule.blazor__instance:t.pivotGridModule,this.fieldList=t.fieldList,this.dataSourceSettings=t.dataSourceSettings,this.parentElement&&sf.base.select("#"+this.parentElement.id+"_title",this.parentElement)&&sf.base.setStyleAttribute(sf.base.select("#"+this.parentElement.id+"_title",this.parentElement),{width:"100%"})},e.prototype.initModules=function(){this.treeRendererModule=new L(this),this.commonActionModule=new q(this),this.pivotButtonModule=new y(this),this.options.allowCalculatedField&&(this.calculatedFieldModule=new m(this)),this.unWireEvents(),this.wireEvents()},e.prototype.contentReady=function(){this.initModules(),this.pivotButtonModule&&(this.pivotButtonModule.createPivotButtonDrop(),this.pivotButtonModule.setPivotButtonDrag()),this.parentElement&&sf.base.select("#"+this.parentElement.id+"_title",this.parentElement)&&sf.base.setStyleAttribute(sf.base.select("#"+this.parentElement.id+"_title",this.parentElement),{width:"100%"})},e.prototype.onShowFieldList=function(e,t){e.querySelector(".e-toggle-field-list")&&sf.base.addClass([e.querySelector(".e-toggle-field-list")],"e-hide"),t.style.top=parseInt(t.style.top,10)<0?"0px":t.style.top},e.prototype.removeFieldListIcon=function(e){document.getElementById(e.id+"calculateddialog")&&!document.getElementById(e.id+"calculateddialog").classList.contains("e-popup-close")||!e.querySelector(".e-toggle-field-list")||sf.base.removeClass([e.querySelector(".e-toggle-field-list")],"e-hide")},e.prototype.updateFieldList=function(e){var t=e.querySelector(".e-footer-content");sf.base.select("#"+e.id+"_dialog-content",e)?(sf.base.setStyleAttribute(sf.base.select("#"+e.id+"_dialog-content",e),{padding:"0"}),sf.base.addClass([t],"e-field-list-footer")):e.querySelector(".e-adaptive-container").appendChild(t)},e.prototype.updateSelectedNodes=function(e,t){e=sf.base.closest(e,".e-text-content"),"check"===t?sf.base.addClass([e.querySelector(".e-list-text")],"e-selected-node"):sf.base.removeClass([e.querySelector(".e-list-text")],"e-selected-node");var r=sf.base.closest(e,"li");if(r&&r.querySelector("ul"))for(var o=0,i=[].slice.call(r.querySelectorAll("li"));o<i.length;o++){var l=i[o];"check"===t?sf.base.addClass([l.querySelector(".e-list-text")],"e-selected-node"):sf.base.removeClass([l.querySelector(".e-list-text")],"e-selected-node")}},e.prototype.removeFocusedElements=function(){this.element.querySelectorAll(".e-btn-focused").length>0&&sf.base.removeClass(this.element.querySelectorAll(".e-btn-focused"),"e-btn-focused")},e.prototype.wireEvents=function(){sf.base.EventHandler.add(document,"click",this.removeFocusedElements,this)},e.prototype.unWireEvents=function(){sf.base.EventHandler.remove(document,"click",this.removeFocusedElements)},e.prototype.destroy=function(){this.unWireEvents(),this.commonActionModule.destroy(),this.pivotButtonModule.destroy(),this.pivotGridModule&&this.pivotGridModule.destroy()},e}();return{initialize:function(e,t,r){sf.base.enableBlazorMode(),new _(e,t,r)},initializeFieldList:function(e,t,r){sf.base.enableBlazorMode(),new x(e,t,r)},contentReady:function(e,t,r){e&&e.blazor__instance&&(e.blazor__instance.options=t,e.blazor__instance.getOptions(e,t),r||e.blazor__instance.contentReady())},getChartHeight:function(e,t){e&&e.blazor__instance&&e.blazor__instance.getChartHeight(t)},onShowFieldList:function(e,t){e&&e.blazor__instance&&e.blazor__instance.onShowFieldList(e,t)},removeFieldListIcon:function(e){e&&e.blazor__instance&&e.blazor__instance.removeFieldListIcon(e)},updateFieldListIcons:function(e,t,r,o){e&&e.blazor__instance&&e.blazor__instance.treeRendererModule.updateFieldListIcons(t,r,o)},setPivotButtonDraggable:function(e,t){e&&e.blazor__instance&&e.blazor__instance.pivotButtonModule&&(e.blazor__instance.options=t,e.blazor__instance.getOptions(e,t),e.blazor__instance.pivotButtonModule.createPivotButtonDrop(),e.blazor__instance.pivotButtonModule.setPivotButtonDrag())},isFullRowElement:function(e,t,r){return e&&e.blazor__instance?e.blazor__instance.commonActionModule.isFullRowElement(t,r):JSON.stringify(!1)},getTreeNode:function(e,t,r,o){return e&&e.blazor__instance?e.blazor__instance.commonActionModule.getTreeNode(t,r,o):null},updateActiveNode:function(e,t,r){var o=!1;return e&&e.blazor__instance&&(o=e.blazor__instance.commonActionModule.updateActiveNode(t,r)),JSON.stringify(o)},updateSelectedNodes:function(e,t,r){e&&e.blazor__instance&&e.blazor__instance.updateSelectedNodes(window.sfBlazor.getElementByXpath(t),r)},updateFieldList:function(e,t){e&&e.blazor__instance&&e.blazor__instance.updateFieldList(t)},renderToolbar:function(e){e&&e.blazor__instance&&e.blazor__instance.toolbarModule.renderToolbar()},focusToolBar:function(e){e&&e.blazor__instance&&e.blazor__instance.toolbarModule.focusToolBar()},getButtonPosition:function(e,t,r){return e&&e.blazor__instance?JSON.stringify(e.blazor__instance.pivotButtonModule.getButtonPosition(window.sfBlazor.getElementByXpath(t),r)):null},getButtonLocation:function(e){var t=e.querySelector(".e-dropdown-icon").getBoundingClientRect();return JSON.stringify([t.top+(window.scrollY||document.documentElement.scrollTop),t.left])},selectInputRange:function(e,t){e&&e.blazor__instance&&e.blazor__instance.toolbarModule.selectInputRange(t)},focusOnElement:function(e){e.focus()},copyMdxQuery:function(e,t){e&&e.blazor__instance&&e.blazor__instance.toolbarModule.copyMdxQuery(t)},validateInputs:function(e,t){e&&e.blazor__instance&&e.blazor__instance.commonActionModule.validateInputs(t)},selectedCell:function(e,t,r,o){if(e&&e.blazor__instance)return e.blazor__instance.selectedCell(t,r,o)},hyperlinkCellclick:function(e,t,r){e&&e.blazor__instance&&e.blazor__instance.hyperlinkCellclick(JSON.parse(t),JSON.parse(r))},updateEditOptions:function(e,t){e&&e.blazor__instance&&e.blazor__instance.calculatedFieldModule.updateEditOptions(t)},accordionClick:function(e,t,r,o){if(e&&e.blazor__instance)return e.blazor__instance.calculatedFieldModule.accordionClick(t,r,o)},getAccordionValue:function(e){if(e&&e.blazor__instance)return e.blazor__instance.calculatedFieldModule.getAccordionValue()},updateAccordionLabel:function(e,t){e&&e.blazor__instance&&e.blazor__instance.calculatedFieldModule.updateAccordionLabel(t)},getNodeLocation:function(e,t,r){if(e&&e.blazor__instance)return e.blazor__instance.calculatedFieldModule.getNodeLocation(t,r)},getIconInfo:function(e,t,r){if(e&&e.blazor__instance)return e.blazor__instance.calculatedFieldModule.getIconInfo(t,r)},emptyFieldName:function(e){e&&e.blazor__instance&&e.blazor__instance.calculatedFieldModule.emptyFieldName(e.id)},updateCalculatedFields:function(e,t,r,o,i){e&&e.blazor__instance&&e.blazor__instance.calculatedFieldModule.editCalculatedFieldInfo(t,r,o,i)},updateCalculatedFieldExpandIcons:function(e,t,r){return e&&e.blazor__instance?e.blazor__instance.calculatedFieldModule.updateNodeExpandIcons(t,r):JSON.stringify(!1)},createFormulaDroppable:function(e,t,r,o,i,l,n,s){e&&e.blazor__instance&&e.blazor__instance.calculatedFieldModule.createFormulaDroppable(t,r,o,i,l,n,s)},createSheet:function(e,t,r,o){e&&e.blazor__instance&&e.blazor__instance.createSheet(t,r,o)},updateScrollInfo:function(e,t,r){e&&e.blazor__instance&&e.blazor__instance.virtualScrollModule.updateScrollInfo(e,t,r)},getScrollInfo:function(e,t){e&&e.blazor__instance&&e.blazor__instance.getScrollInfo(t)},exportDocument:function(e,t,r){e&&e.blazor__instance&&e.blazor__instance.exportDocument(e,t,r)},calculateGridHeight:function(e,t,r,o){return e&&e.blazor__instance?e.blazor__instance.calculateGridHeight(t,r,o):null},onContextMenuOpen:function(e){return e&&e.blazor__instance?e.blazor__instance.onContextMenuOpen():null},getSelectedCells:function(e){return e&&e.blazor__instance?e.blazor__instance.getSelectedCells():null},updateGridUI:function(e,t,r,o){e&&e.blazor__instance&&e.blazor__instance.updateGridUI(e,t,r,o)},updateView:function(e,t){e&&e.blazor__instance&&e.blazor__instance.updateView(e,t)},updateGridSettings:function(e,t,r){e&&e.blazor__instance&&e.blazor__instance.updateGridSettings(e,t,r)},getClientWidth:function(e,t){return e&&e.blazor__instance?e.blazor__instance.getClientWidth(e,t):null},getTableCellNode:function(e,t,r){return e&&e.blazor__instance?e.blazor__instance.getTableCellNode(e,t,r):null},updateColorPickerUI:function(e,t){if(e&&e.blazor__instance)return e.blazor__instance.updateColorPickerUI(t)},drillthroughIntialize:function(e){e&&e.blazor__instance&&e.blazor__instance.drillthroughIntialize(e)},getElementInfo:function(e){if(e){var t=e.getBoundingClientRect(),r={};return r.width=t.width,r.height=t.height,JSON.stringify(r)}return null},getAggregateIcoPosition:function(e,t){return e&&e.blazor__instance?e.blazor__instance.commonActionModule.getAggregateIcoPosition(t):null},destroy:function(e){e&&e.blazor__instance&&e.blazor__instance.destroy()}}}()}});